<?php

/**
 * Implements hook_menu().
 */
function invite_fboauth_menu() {
  $items = array();

  $items['invite_fboauth/%fboauth_action/%invite_by_code'] = array(
    'title' => 'Facebook connect',
    'page callback' => 'invite_fboauth_action_page',
    'page arguments' => array(1, 2),
    'access callback' => TRUE,
    'file' => 'invite_fboauth.action.inc',
    'type' => MENU_CALLBACK,
  );

  return $items;
}

/**
 * Return a set of properties suitable for use to a url() call.
 *
 * @param $invite
 */
function invite_fboauth_link_properties($invite) {
  $link = fboauth_action_link_properties('connect');
  $link['query']['redirect_uri'] = url('invite_fboauth/connect/' . $invite->reg_code, array('absolute' => TRUE));
  return $link;
}
