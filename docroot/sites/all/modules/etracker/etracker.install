<?php

/**
 * @file
 * Install and uninstall schema and functions for the etracker module.
 */

function etracker_uninstall() {
  variable_del('etracker_account_key_1');
  variable_del('etracker_scope_script');
  variable_del('etracker_scope_noscript');
  variable_del('etracker_mode_taxonomy_as_area');
  variable_del('etracker_mode_breadcrumb_as_area');
  variable_del('etracker_mode_userrole_as_tag');
  variable_del('etracker_visible_path_mode');
  variable_del('etracker_visible_path_pages');
  variable_del('etracker_visible_roles');
  variable_del('etracker_visible_user');
  variable_del('etracker_visible_dnt');
  variable_del('etracker_track_external');
  variable_del('etracker_track_mailto');
  variable_del('etracker_track_download');
  variable_del('etracker_track_download_extensions');
  variable_del('etracker_track_messages');
  variable_del('etracker_track_site_search');
}

/**
 * Implements hook_field_schema().
 */
function etracker_field_schema($field) {
  $columns = array();
  $columns['settings'] = array(
    'type' => 'blob',
    'not null' => TRUE,
    'size' => 'normal',
    'description' => 'Serialized array of etracker settings associated with an entity.',
  );
  return array(
    'columns' => $columns,
    'indexes' => array(),
  );
}
