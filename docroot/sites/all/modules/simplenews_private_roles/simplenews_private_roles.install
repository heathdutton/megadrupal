<?php
/**
 * @file
 * Installation functions for the Simplenews Private Roles module.
 */

/**
 * Implementation of hook_schema
 */
function simplenews_private_roles_schema() {
  $schema = array(
    'simplenews_private_roles' => array(
      'description' => "Store role / newsletter allowances",
      'fields'      => array(
        'tid'  => array('type' => 'int', 'not null' => TRUE),
        'rid'  => array('type' => 'int', 'not null' => TRUE)
      )
    )
  );

  return $schema;
}

/**
 * Implementation of hook_install
 *
 * Ensure we are called after the primary Simplenews module
 */
function simplenews_private_roles_install() {
  $weight = db_query("SELECT weight FROM {system} WHERE name = 'simplenews'")->fetchColumn();
  db_update("system")
    ->fields(array('weight' => $weight + 1))
    ->condition('name', 'simplenews_private_roles')
    ->execute();
}

/**
 * Implementation of hook_uninstall
 */
function simplenews_private_roles_uninstall() {
}
