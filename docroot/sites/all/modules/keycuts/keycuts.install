<?php
/**
 * @file
 * Install, update and uninstall functions for the keycuts module.
 */

/**
 * Implements of hook_install().
 */
function keycuts_install() {
  variable_set('keycuts_settings_enable', 1);

  $shortcuts = array(
    array(
      'label' => 'Save',
      'sequence' => 'ctrl+s, command+s',
      'enable_during_input' => 1,
      'prevent_default' => 1,
      'action' => 'trigger',
      'arguments' => array(
        'type' => 'click',
        'selector' => '#edit-submit'
      )
    ),
    array(
      'label' => 'Edit content',
      'sequence' => 'ctrl+e, command+e',
      'enable_during_input' => 1,
      'prevent_default' => 1,
      'action' => 'redirect',
      'arguments' => array(
        'url' => '[node:edit-url]'
      )
    ),
    array(
      'label' => 'Add new content',
      'sequence' => 'ctrl+n, command+n',
      'enable_during_input' => 1,
      'prevent_default' => 1,
      'action' => 'redirect',
      'arguments' => array(
        'url' => 'node/add/[node:type]'
      )
    )
  );

  variable_set('keycuts_shortcuts', serialize($shortcuts));
}

/**
 * Implements of hook_uninstall().
 */
function keycuts_uninstall() {
  variable_del('keycuts_settings_enable');
  variable_del('keycuts_shortcuts');
}
