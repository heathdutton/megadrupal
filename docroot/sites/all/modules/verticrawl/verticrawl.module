<?php
/**
 * @file
 * Define Verticrawl page configurations.
 */

/**
 * Implements hook_menu().
 */
function verticrawl_menu() {

  $items['admin/config/search/verticrawl'] = array(
    'title' => 'Verticrawl',
    'description' => 'Verticrawl components Configuration',
    'position' => 'left',
    'page callback' => 'drupal_get_form',
    'page arguments' => array('verticrawl_form'),
    'access arguments' => array('administer verticrawl search'),
  );

  $items['admin/config/search/verticrawl/general'] = array(
    'title' => 'Verticrawl',
    'description' => 'Verticrawl components Configuration',
    'position' => 'left',
    'access arguments' => array('administer verticrawl search'),
    'weight' => -15,
    'type' => MENU_DEFAULT_LOCAL_TASK,
  );

  return $items;
}

/**
 * Form constructor for the verticrawl admin form.
 *
 * @ingroup forms
 */
function verticrawl_form($form, &$form_state) {
  $form['intro']['#markup'] = t(
  '<p>Your are entering Verticraw APIs parameters solution. Be aware of using the right and useful parameters for your search pages.<br/>
   Each Api is design for 1 use. It will be possible later to get more than 1 API key per tool (for other usage as search).<br />
   After getting your private keys for each api dialog on <a href="http://verticrawl.com" target="_blank">verticrawl.com</a>, 
   you may use a full and dedicated search engine for your own site.<br />
   Please read Verticrawl Admin helps for further or contact us.</p>'
  );

  return system_settings_form($form);
}

/**
 * Implements hook_form_alter().
 *
 * @see verticrawl_form
 */
function verticrawl_form_alter(&$form, &$form_state, $form_id) {
  if ($form_id == 'verticrawl_form') {
    unset($form['actions']['submit']);
  }
}
