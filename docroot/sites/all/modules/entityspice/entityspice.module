<?php

define ('ENTITYSPICE_DEVELOPMENT', FALSE);
define ('ENTITYSPICE_DEBUG', FALSE);

require_once 'drupal/_require.inc';
require_once 'php/_require.inc';
require_once 'entity/_require.inc';

require_once 'inc/entityspice.theme.inc';
require_once 'inc/entityspice.permission.inc';
require_once 'inc/entityspice.page.inc';
require_once 'inc/entityspice.etc.inc';

/**
 * Implemets hook_menu().
 *
 * Purpose:
 *   - Defines these menu items:
 *     - A menu item to generate user entities
 *       @see _entityspice_devel_menu_options.
 *     - A menu item to check all entities defined based on entityspice.
 *     - Default base path entities '/es'. This page will list all entity types
 *       created using ES. This path is later used in constructing entity URI.
 */
function entityspice_menu() {
  require_once 'inc/entityspice.devel.inc';

  // Default base path for entity types.
  $items['es'] = array(
    'title' => 'Entity Spice',
    'page callback' => '_entityspice_default_page',
    'access arguments' => array('administer entityspice'),
    'description' => 'Default entity page for EntitySpice entities.',
  );

  // In this page user can generate users for development purposes.
  $items += _entityspice_devel_menu_options();

  // Will output information about all modules defining entities using
  // entityspice.
  if (module_exists('devel')) {
    $items['devel/entityspice_info'] = array(
      'title' => 'hook_entityspice_info()',
      'page callback' => '_entityspice_hook_info_page',
      'access arguments' => array('access devel information'),
      'description' => 'View all modules and their info implementing entityspice hook',
      'file' => 'inc/entityspice.devel.inc',
    );
  }

  return $items;
}
