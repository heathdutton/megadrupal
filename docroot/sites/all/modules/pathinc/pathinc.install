<?php

/**
 * @file
 * Installation related functions for the Pathinc module.
 */

/**
 * Implements hook_enable().
 */
function pathinc_enable() {
  variable_set('path_inc', drupal_get_path('module', 'pathinc') . '/path.inc');
}

/**
 * Implements hook_disable().
 */
function pathinc_disable() {
  variable_del('path_inc');
}

/**
 * Implements hook_requirements().
 */
function pathinc_requirements($phase) {
  $return = array();
  // Ensure translations don't break at install time
  $t = get_t();

  if ($phase == 'runtime') {
    if (variable_get('path_inc') != drupal_get_path('module', 'pathinc') . '/path.inc') {
      $return['pathinc'] = array(
        'title' => $t('Pathinc'),
        'value' => $t('path.inc not overriden correctly for Pathinc module, please disable and re-enable Pathinc module to restore functionality.'),
        'severity' => REQUIREMENT_ERROR,
      );
    }
  }

  return $return;
}
