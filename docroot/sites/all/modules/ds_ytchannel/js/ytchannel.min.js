(function(a){Drupal.behaviors.dsYtChannel={attach:function(b,c){a.getJSON("http://gdata.youtube.com/feeds/users/"+c.dsYtChannel.channelName+"/uploads?alt=json&format=5&max-results="+c.dsYtChannel.maxItems+"&callback=?",null,function(e){var d=e.feed;a.each(d.entry,function(f,h){var g={title:h.title.$t,description:h.media$group.media$description.$t,uri:h.link[0].href,id:h.id.$t.match("[^/]*$"),thumb:h.media$group.media$thumbnail[1].url,submitted:{name:h.author[0].name.$t,uri:d.link[1].href,date:h.published.$t,hits:typeof h.yt$statistics!=="undefined"?h.yt$statistics.viewCount:0}};if(f===0){a(".ytchannel").html("")}a(".ytchannel").append(Drupal.theme("ytChannelRow",g))})})}};Drupal.theme.prototype.ytChannelRow=function(c){var b='<div class="ytc-wrapper">';b+='<div class="ytc-img">';b+='<a href="'+c.uri+'" target="_blank"><img src="'+c.thumb+'"/></a>';b+="</div>";b+='<div class="ytc-info">';b+='<h4><a href="'+c.uri+'" target="_blank">'+c.title+"</a></h4>";b+='<div class="ytc-author">'+Drupal.theme("ytChannelAuthor",c.submitted)+"</div>";b+='<div class="ytc-desc"><p>'+c.description+"</p></div>";b+="</div>";b+="</div>";return b};Drupal.theme.prototype.ytChannelAuthor=function(b){var c=new Date(b.date);var d='By <a href="'+b.uri+'" target="_blank">'+b.name+"</a>";d+=' - <span class="yt-date">'+c.getDay()+"/"+c.getMonth()+"/"+c.getFullYear()+"</span>";if(b.hits>0){d+='<span class="yt-hits">'+b.hits+" hits</span>"}return d}}(jQuery));