var LiveAddress=function(){function f(a,b,c){var d=document.getElementById(a);return g({street:d?d.value:a},b,c)}function g(a,b,e){if(!a)return null;var f=[],g={};var i="batch_"+d++;a=a instanceof Array?a:[a];c[i]={size:a.length,returned:0,json:[],userCallback:b,wrap:e||function(a){return a}};for(var j in a)f.push(h(a[j],i,j));return f}function h(a,c,e){var f={fields:a};f.id="addr_"+d++;f.inputIndex=parseInt(e);f.json=[];f.batch=c;f.callback=function(a){LiveAddress.callback(f.id,a)};b[f.id]=f;return f.id}function j(c){var d=b[c];var f="?auth-token="+a+"&candidates="+e;for(prop in d.fields)f+="&"+prop+"="+encodeURIComponent(d.fields[prop]);f+="&callback="+encodeURIComponent('LiveAddress.request("'+c+'").callback');return f}function k(a){for(i in a){var c=document.createElement("script");c.src="https://api.qualifiedaddress.com/street-address/"+j(a[i]);document.body.appendChild(c);b[a[i]].DOM=c}}var a;var b=[];var c={};var d=0;var e=5;return{init:function(b){a=encodeURIComponent(b)},verify:function(a,b,c){var d;if(typeof a==="string")d=f(a,b,c);else if(typeof a==="object"&&!(a instanceof Array))d=g(a,b,c);else if(a instanceof Array){var e=[];for(idx in a){if(typeof a[idx]=="string"){var h=document.getElementById(a);e.push({street:h?h.value:a[idx]})}else e.push(a[idx])}d=g(e,b,c)}k(d)},coords:function(a){if(!a)return{};return{lat:a.metadata.latitude,lon:a.metadata.longitude}},coordinates:function(a){if(!a)return undefined;return{lat:a.metadata.latitude,lon:a.metadata.longitude,precision:a.metadata.precision,coords:a.metadata.latitude+", "+a.metadata.longitude}},request:function(a){return b[a]},geocode:function(a,b){this.verify(a,b,function(a){if(a.length==1)return LiveAddress.coordinates(a[0]);else{var b=[];for(var c in a)b.push(LiveAddress.coordinates(a[c]));return b}})},components:function(a,b){this.verify(a,b,function(a){var b=[];for(idx in a){a[idx].components.first_line=a[idx].delivery_line_1;if(typeof a[idx].delivery_line_2!=="undefined")a[idx].components.first_line+=" "+a[idx].delivery_line_2;a[idx].components.last_line=a[idx].last_line;if(typeof a[idx].addressee!=="undefined")a[idx].components.addressee=a[idx].addressee;b.push(a[idx].components)}return b})},county:function(a,b){this.verify(a,b,function(a){return a[0].metadata.county_name})},callback:function(a,d){var e=b[a];var f=c[e.batch];for(var g in d)d[g].input_index=e.inputIndex;f.json=f.json.concat(d);document.body.removeChild(e.DOM);delete b[a];if(++f.returned==f.size){var h=f.userCallback(f.wrap(f.json));delete c[e.batch];return h}}}}()