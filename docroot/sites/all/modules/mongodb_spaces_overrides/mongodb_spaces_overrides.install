<?php
/**
 * @file
 * install file for mongodb_spaces_overrides module.
 */

/**
 * Implements hook_install().
 */
function mongodb_spaces_overrides_install() {
  mongodb_collection('spaces_overrides')
    ->ensureIndex(array('id' => 1, 'object_type' => 1));
}

/**
 * Implements hook_enable().
 */
function mongodb_spaces_overrides_enable() {
  if (variable_get('mongodb_spaces_overrides_auto_migrate', FALSE)) {
    mongodb_spaces_overrides_migrate_to_mongodb();
  }
}

/**
 * Implements hook_disable().
 */
function mongodb_spaces_overrides_disable() {
  if (variable_get('mongodb_spaces_overrides_auto_migrate', FALSE)) {
    mongodb_spaces_overrides_migrate_to_db();
  }
}

/**
 * Implements hook_uninstall().
 */
function mongodb_spaces_overrides_uninstall() {
  mongodb_collection('spaces_overrides')->drop();
}
