<?php
/**
 * @file
 * The core items_canvas Domain module.
 */

/**
 * Implements hook_init().
 */
function items_canvas_init() {
  drupal_add_js(drupal_get_path('module', 'items_canvas') . '/js/items_canvas.min.js');
  drupal_add_js(drupal_get_path('module', 'items_canvas') . '/js/items_canvas.js');
}

/**
 * Ex: parameter of $items array('url' => 'http://foo.com', 'name' => 'foo').
 */
function items_canvas_show($items = array()) {
  $output = '';
  if (!empty($items)) {
    $output = '<div id="myCanvasContainer">
      <canvas id="myCanvas" style="width:100%;">
        <p>Your browsers does not support the canvas element.</p>
      </canvas>
    </div>';
    $output .= '<div id="tags" style="display: none;"><ul>';
    foreach ($items as $key => $value) {
      if (isset($value['url']) && valid_url($value['url']) && isset($value['name'])) {
        $output .= '<li><a href="' . $value['url'] . '">' . $value['name'] . '</a></li>';
      }
    }
    $output .= '</ul></div>';
  }
  return $output;
}
