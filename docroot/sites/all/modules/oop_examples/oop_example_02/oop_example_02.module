<?php

/**
 * @file
 * OOP Example 02 module.
 *
 * Basic namespaces.
 */

// Declare namespace usage with alias.
use OopExample02 as Ns02;
// Declare class usage.
use OopExample02\Motorcycle;

/**
 * Implements hook_menu().
 */
function oop_example_02_menu() {
  return array(
    'oop-examples/oop-example-02' => array(
      'title' => '02 Basic namespaces',
      'page callback' => 'oop_example_02_page',
      'access callback' => TRUE,
    ),
  );
}

/**
 * Page callback.
 */
function oop_example_02_page() {

  // Use full namespace name.
  $v = new \OopExample02\Vehicle();
  $message = $v->getDescription();
  $message .= '<br />';

  // Use namespace alias declared above.
  $v1 = new Ns02\Car();
  $message .= $v1->getDescription();
  $message .= '<br />';

  // Use class declared above.
  $v2 = new Motorcycle();
  $message .= $v2->getDescription();
  $message .= '<br />';

  return array(
    '#type' => 'markup',
    '#markup' => $message,
  );
}

// In Drupal 7 files[] directive does not work with namespaces.
// We need to include the file explicitly.
module_load_include('inc', 'oop_example_02', 'includes/oop_example_02.classes');
