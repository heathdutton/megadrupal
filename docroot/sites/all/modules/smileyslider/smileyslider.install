<?php

/**
 * @file
 *   (Un)installs the Smiley Slider module.
 */

/**
 * Implements hook_requirements().
 */
function smileyslider_requirements($phase) {
  $t = get_t();
  $requirements = array('smileyslider' => array(
    'title' => $t('Smiley Slider library'),
    'value' => '0.0',
  ));
  $exists = file_exists(drupal_get_path('module', 'smileyslider') . '/smiley-slider/smiley-slider.js');
  if ($exists) {
    $requirements['smileyslider']['description'] = $t('Library exists.');
    $requirements['smileyslider']['severity'] = REQUIREMENT_OK;
  }
  else {
    $requirements['smileyslider']['description'] = $t('Library does not exist. <a href="https://github.com/dglittle/smiley-slider/tarball/master">Download the library</a> and put it in the smileyslider module folder.');
    $requirements['smileyslider']['severity'] = ($phase == 'runtime' ? REQUIREMENT_ERROR : REQUIREMENT_WARNING);
  }
  return $requirements;
}
