<?php

/**
 * @file
 * Experience Views module.
 */

/**
 * Implements hook_views_api().
 */
function experience_views_api() {
  return array(
    'api' => 3,
    'path' => drupal_get_path('module', 'experience_views') . '/includes',
  );
}

/**
 * Implements hook_field_views_data_alter().
 */
function experience_views_field_views_data_alter(&$result, $field, $module) {
  if ($module == 'experience') {
    foreach ($result as $table => $data) {
      foreach ($data as $column => $value) {
        if (array_key_exists('filter', $value)) {
          $result[$table][$column]['filter']['handler'] = 'experience_views_filter_handler';
          $result[$table][$column]['filter']['is experience'] = TRUE;
        }
      }
    }
  }
}
