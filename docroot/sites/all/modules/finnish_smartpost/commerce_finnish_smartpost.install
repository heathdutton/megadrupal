<?php

/**
 * @file Installs the needed fields.
 */

/**
 * Implements hook_install().
 */
function commerce_finnish_smartpost_install() {
  // Create the field where address is saved.
  $f_name = 'commerce_smartpost_address';
  if (!field_info_field($f_name)) {
    $field = array(
      'field_name' => $f_name,
      'type' => 'text_long',
    );
    field_create_field($field);

    $instance = array(
      'field_name' => $f_name,
      'entity_type' => 'commerce_order',
      'bundle' => 'commerce_order',
      'description' => 'Field where the address for the Smartpost location selected by user is stored.',
      'label' => 'Smartpost Address',
    );
    field_create_instance($instance);
  }

  // Create the field which asks customer's phone number.
  $f_name = 'commerce_smartpost_phonenumber';
  if (!field_info_field($f_name)) {
    $field = array(
      'field_name' => $f_name,
      'type' => 'text',
    );
    field_create_field($field);

    $instance = array(
      'field_name' => $f_name,
      'entity_type' => 'commerce_customer_profile',
      'bundle' => 'shipping',
      'label' => 'Phone Number',
      'required' => TRUE,
    );
    field_create_instance($instance);
  }
}
