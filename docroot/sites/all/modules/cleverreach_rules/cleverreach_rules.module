<?php

function cleverreach_rules_email_add($key, $list, $source, $email) {
  $settings = array(
    'url' => 'http://api.cleverreach.com/soap/interface_v5.1.php?wsdl',
    'key' => $key
  );
  
  $user = array(
    'email' => $email,
    'registered' => time(),
    'activated' => time(),
    'source' => $source,
  );
  
  $api = new SoapClient($settings['url']);
  $result = $api->receiverAdd($settings['key'], $list, $user);
}

function cleverreach_rules_email_remove($key, $list, $source, $email) {
  $settings = array(
    'url' => 'http://api.cleverreach.com/soap/interface_v5.1.php?wsdl',
    'key' => $key
  );
  
  $user = array(
    'email' => $email,
    'registered' => time(),
    'activated' => time(),
    'source' => $source,
  );
  
  $api = new SoapClient($settings['url']);
  $result = $api->receiverDelete($settings['key'], $list, $email);
}