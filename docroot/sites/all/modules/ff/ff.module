<?php

function ff_title($nid, $type = "", $published = "") {
  /*
   Returns the name of the node provided in $nid
   $nid = Node ID of item to lookup
   $type = If provided, limit search to passed content type (Machine Readable)
   $published = Returns title of nid regardless of publication status. If provided, limit search to 1 Published, or 0 Unpublished

  */
  $nodes = array();
  $s = sprintf("SELECT title FROM {node} WHERE nid=%d",$nid);

  if ($type != "") {
   $s .= sprintf(" AND type = '%s'",$type);
  }

  if ($published != "") {
   $s .= sprintf(" AND status = %d",$published);
  }
  // do the query
  $result = db_query($s)->fetchField();
  if (count($result)==1) {
   return $result;
  } else {
   return FALSE;
  }
}

function ff_term($tid, $vid = "") {
  /*
    Returns the term name based on $tid with optional $vid
  */
  $s = sprintf("SELECT name FROM {taxonomy_term_data} WHERE tid = %d",$tid);

  if ($vid != "") {
    $s .= sprintf(" AND vid = %d",$vid);
  }

  // do the query
  $r = db_query($s)->fetchField();
  if (count($r)==1) {
    return $r;
  } else {
    return FALSE;
  }

}

function ff_type($nid) {
  /*
    Returns the value of the 'type' field in the node table for the given nid
  */

  $s = sprintf("SELECT type FROM {node} WHERE nid = %d LIMIT 1",$nid);
  // do the query
  $r = db_query($s)->fetchField();
  if (count($r)==1) {
    return $r;
  } else {
    return;
  }

}