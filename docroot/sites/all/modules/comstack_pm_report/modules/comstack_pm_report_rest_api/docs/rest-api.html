<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Comstack Private Messaging Report API</title>

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
    <style type="text/css">
      /* Space out content a bit */
      body {
        padding-top: 20px;
        padding-bottom: 20px;
      }

      /* Everything but the jumbotron gets side spacing for mobile first views */
      .header,
      .marketing,
      .footer {
        padding-right: 15px;
        padding-left: 15px;
      }

      /* Custom page header */
      .header {
        padding-bottom: 20px;
        border-bottom: 1px solid #e5e5e5;
      }
      /* Make the masthead heading the same height as the navigation */
      .header h3 {
        margin-top: 0;
        margin-bottom: 0;
        line-height: 40px;
      }

      /* Custom page footer */
      .footer {
        padding-top: 19px;
        color: #777;
        border-top: 1px solid #e5e5e5;
      }

      /* Customize container */
      @media (min-width: 768px) {
        .container {
          max-width: 730px;
        }
      }
      .container-narrow > hr {
        margin: 30px 0;
      }

      /* Main marketing message and sign up button */
      .jumbotron {
        text-align: center;
        border-bottom: 1px solid #e5e5e5;
      }
      .jumbotron .btn {
        padding: 14px 24px;
        font-size: 21px;
      }

      /* Supporting marketing content */
      .marketing {
        margin: 40px 0;
      }
      .marketing p + h4 {
        margin-top: 28px;
      }

      /* Responsive: Portrait tablets and up */
      @media screen and (min-width: 768px) {
        /* Remove the padding we set earlier */
        .header,
        .marketing,
        .footer {
          padding-right: 0;
          padding-left: 0;
        }
        /* Space out the masthead */
        .header {
          margin-bottom: 30px;
        }
        /* Remove the bottom border on the jumbotron for visual effect */
        .jumbotron {
          border-bottom: 0;
        }
      }
    </style>

    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <style type="text/css">
      .copy h1,
      .copy h2,
      .copy h3,
      .copy h4 {
        margin-top: 40px;
        margin-bottom: 10px;
        padding-bottom: 10px;
        border-bottom: 1px solid #eee;
      }

      .resource-request {
        margin: 20px 0;
        font-size: 16px;
        background-color: #f5f5f5;
        font-weight: bold;
        border-radius: 5px;
      }

      .resource-verb {
        display: inline-block;
        margin-right: 15px;
        padding: 10px 20px;
        color: white;
        border-top-left-radius: 5px;
        border-bottom-left-radius: 5px;
      }

      .resource-verb.get {
        background-color: #14892c;
      }

      .resource-verb.post {
        background-color: #ADAB26;
      }

      .resource-verb.put,
      .resource-verb.patch {
        background-color: #4b0082;
      }

      .resource-verb.delete {
        background-color: #d04437;
      }

      .show-details {
        float: right;
      }

      .resource-request .show-details {
        margin-right: 20px;
        line-height: 42px;
      }

      .response-details {
        margin-bottom: 50px;
      }

      .response-details h4 {
        margin-top: 0;
        border-bottom: 0;
        padding-bottom: 0;
      }

      .response-details blockquote {
        font-size: 14px;
      }

      table.request-body td:first-child,
      table.model-body td:first-child {
        font-family: Menlo,Monaco,Consolas,"Courier New",monospace;
        font-size: 12px;
        line-height: 22px;
      }

      table.request-body td:last-child {
        text-align: center;
        color: #6F6F6F;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header clearfix">
        <nav>
          <ul class="nav nav-pills pull-right">
            <li role="presentation" class="active"><a href="#">The basics</a></li>
            <li role="presentation"><a href="#endpoints">Endpoints</a></li>
          </ul>
        </nav>
        <h3 class="text-muted">Comstack PM Report API</h3>
      </div>

      <div class="copy">
        <h3>Hi!</h3>

        <p>This document follows on from the <a href="https://rawgit.com/lohi-io/comstack_pm/7.x-1.x/modules/comstack_pm_rest_api/docs/rest-api.html">Comstack Private Messaging REST API documentation</a>, same thinking rules etc applies.</p>
        <p>With that in mind this document will only cover the endpoints and data models, if you want to know how paging, filtering, sorting and what else is available to you, refer to the <a href="https://rawgit.com/lohi-io/comstack_pm/7.x-1.x/modules/comstack_pm_rest_api/docs/rest-api.html">Comstack Private Messaging REST API documentation</a>.</p>


        <h4>Base path</h4>

        <p>The API will live at <code>/api/v1/cs-pm-report</code> on the installed site.</p>


        <a name="endpoints"></a>
        <h3>Endpoints</h3>

        <h4 class="text-primary">/cs-pm-report</h4>

        <div class="resource-request">
          <span class="resource-verb post">POST</span> /api/v1/cs-pm-report
          <span class="show-details"><a href="#resource-report-post" data-toggle="collapse">Show details</a></span>
        </div>

        <div id="resource-report-post" class="collapse response-details">
          <blockquote>
            <p>Report a conversation.</p>
          </blockquote>


          <h4>Request body</h4>

          <table class="table table-striped request-body">
            <thead>
              <tr>
                <th>Property</th>
                <th>Type</th>
                <th>Description</th>
                <th>Required?</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>conversation_id</td>
                <td><code>Integer</code></td>
                <td>The ID of the conversation you're reporting.</td>
                <td><span class="glyphicon glyphicon-ok"></span></td>
              </tr>
              <tr>
                <td>reasons</td>
                <td><code>Array</code></td>
                <td>An array of machine name strings that represent the reasons for the report.</td>
                <td><span class="glyphicon glyphicon-ok"></span></td>
              </tr>
              <tr>
                <td>other_reason</td>
                <td><code>String</code></td>
                <td>The "other" reason text value.</td>
                <td></td>
              </tr>
              <tr>
                <td>posts</td>
                <td><code>Array</code></td>
                <td>An array of post ids relevant to the report.</td>
                <td></td>
              </tr>
            </tbody>
          </table>

          <h4>Example request body</h4>

<pre>{
  "conversation_id": 1,
  "reasons": ['spam'],
  "other_reason": "And I really didn't need any Viagra :C",
  "posts": [123]
}</pre>

          <h4>Responses</h4>

          <table class="table table-striped responses">
            <thead>
              <tr>
                <th>Status</th>
                <th>Description</th>
                <th>Example</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>200</code></td>
                <td>Conversation reported.</td>
                <td>
                  No response
                </td>
              </tr>
              <tr>
                <td><code>400</code></td>
                <td colspan="2">Validation issue or otherwise, see issue text.</td>
              </tr>
              <tr>
                <td><code>404</code></td>
                <td colspan="2">Conversation not found.</td>
              </tr>
            </tbody>
          </table>
        </div>




    </div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  </body>
</html>
