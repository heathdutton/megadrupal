<?php

/**
 * Implements hook_init().
 *
 * Hack to load necessary classes.
 */
function pay_realex_init() {
  if (drupal_match_path($_GET['q'], "admin/config/pay/method\nadmin/config/pay/method/*")) {
    $path = drupal_get_path('module', 'pay');
    module_load_include('inc', 'pay', 'includes/handlers/pay');
    module_load_include('inc', 'pay', 'includes/handlers/pay_method');
    module_load_include('inc', 'pay', 'includes/handlers/pay_method_gateway');
  }
}

/**
 * Implements hook_pay_method_handler_info().
 */
function pay_realex_pay_method_handler_info() {
  $path = drupal_get_path('module', 'pay_realex');
  return array(
    'pay_realex_method_gateway_remote' => array(
      'title' => t('Realex Remote'),
      'description' => t('Payment processing using the Realex Remote payment gateway'),
      'parent' => 'pay_method_gateway',
      'module' => 'pay_realex',
      'path' => $path,
    ),
  );
}

