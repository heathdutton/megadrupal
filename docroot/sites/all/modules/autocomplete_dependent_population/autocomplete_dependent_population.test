<?php

/**
 * @file
 * Tests for autocomplete_dependent_population.module.
 */

class AutoCompleteDependentPopulationTestCase extends DrupalWebTestCase {
  /**
   * Give display information to the AutoCompleteDependentPopulation system.
   *
   * This function getInfo() returns a keyed array of information for
   * AutoCompleteDependentPopulation to show.
   */
  public static function getInfo() {
    return array(
      'name' => 'Autocomplete Dependent Population',
      'description' => 'Verify that autocomplete field dependent form element' . 'get selected/populated with proper value upon selecting the value' . 'from autocomplete suggestion list.',
      'group' => 'Autocomplete Dependent Population',
    );
  }

  /**
   * Implementation of setUp().
   */
  public function setUp() {
    // Enable any modules required for the test. This should be an array of
    // module names.
    parent::setUp(array('autocomplete_dependent_population',
      'autocomplete_dependent_population_example'));
  }

  /**
   * Testing autocomplete callback functionality.
   */
  public function testAutoCompleteCallback() {
    $input = array('123', '456', '789', '234');
    foreach ($input as $value) {
      $this->drupalGet("autocomplete_dependent_test_one_callback/field1/" . $value);
      $this->assertResponse(200, format_string('autocomplete value @value selected', array('@value' => $value)));
    }
  }
}
