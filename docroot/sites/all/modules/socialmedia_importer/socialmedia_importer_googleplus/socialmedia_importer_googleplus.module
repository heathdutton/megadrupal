<?php
/**
 * @file
 * Import Data from Social Media Googleplus in JSON.
 */


/**
 * Implements hook_socialmedia_importer_application_info().
 */
function socialmedia_importer_googleplus_socialmedia_importer_application_info() {
  $info = array(
    'googleplus' => array(
      'class' => 'SocialMediaImporterGoogleplusApplication',
      'name' => 'Googleplus',
      'description' => t("A Googleplus Application is required to access
        GoogleplusÂ´s API. Use your Application name, Client ID and Client Secret
        to add a Googleplus Application. If you do not have a Googleplus Application,
        you can create one at: !url.",
        array('!url' => l(t('https://code.google.com/apis/console'), 'https://code.google.com/apis/console'))),
    ),
  );
  return $info;
}

/**
 * Implements hook_menu_alter().
 */
function socialmedia_importer_googleplus_form_alter(&$form, &$form_state, $form_id) {
  switch ($form_id) {
    case 'socialmedia_importer_ui_add_application_form';
      if ($form['provider']['#value'] == 'googleplus') {
        $form['app_id']['#title'] = t('Client Id');
        $form['app_id']['#description'] = t('Enter the Client Id of your
            Application. This can be found in the API Access settings of your
            Googleplus Application Details page: !url.',
            array('!url' => l(t('https://code.google.com/apis/console'), 'https://code.google.com/apis/console')));

        $form['app_secret']['#title'] = t('Client Secret');
        $form['app_secret']['#description'] = t('Enter the client Secret of
            your Application. This can be found in the API Access settings of your
            Googleplus Application Details page: !url.',
            array('!url' => l(t('https://code.google.com/apis/console'), 'https://code.google.com/apis/console')));
      }
      break;
  }
  return $form;
}

/**
 * Implements hook_help().
 */
function socialmedia_importer_googleplus_help($path, $arg) {
  switch ($path) {
    case 'admin/help#socialmedia_importer_googleplus':
      $module_path = $GLOBALS['base_url'] . '/' . drupal_get_path('module', 'socialmedia_importer_googleplus');
      $output = '';
      $output .= '<h3>' . t('About') . '</h3>';
      $output .= '<p>' . t('Googleplus Importer is a developer only module that integrate Googleplus´s 
          API in Drupal.') . '</p>';
      $output .= '<h3>' . t('Uses') . '</h3>';
      $output .= '<dl>';
      $output .= '<p>' . t('This module allows you to authenticate with this API and
          use this authentication to Import Googleplus Data in JSON') . '</p>';
      $output .= '<p>' . t("For more details read the 
          <a href='@url'>README.txt</a> file in the Googleplus Importer 
          module directory.", array('@url' => "$module_path/README.txt")) . '</p>';
      return $output;
  }
}
