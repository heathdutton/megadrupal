<?php

/**
 * @file
 * Written by Henri MEDOT <henri.medot[AT]absyx[DOT]fr>
 * http://www.absyx.fr
 */

/**
 * Implements hook_field_formatter_info_alter().
 */
function file_getid3_videojs_field_formatter_info_alter(&$info) {
  $info['file_getid3_video']['label'] = t('File getID3() Video.js player');
}

/**
 * Implements MODULE_preprocess_HOOK for file-getid3-video.tpl.php
 */
function file_getid3_videojs_preprocess_file_getid3_video(&$variables) {
  videojs_add();
  $variables['video_classes_array'][] = 'video-js';
  $variables['video_classes_array'][] = 'vjs-default-skin';
  $variables['video_classes_array'][] = 'vjs-big-play-centered';
  $variables['video_attributes_array']['id'] = $variables['video_id'];
  $variables['video_attributes_array']['data-setup'] = '{}';
}
