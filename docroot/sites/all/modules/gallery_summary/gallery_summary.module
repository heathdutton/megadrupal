<?php

/**
 * Implements hook_views_api().
 *
 * @return Array with Views API version.
 */
function gallery_summary_views_api() {
  return array('api' => 2.0);
}

/**
 * Template preprocess theme function to print summaries with items selected
 * from each argument.
 */
function template_preprocess_views_plugin_style_gallery_summary(&$vars) {
  module_load_include('inc', 'views', 'theme/theme.inc');
  template_preprocess_views_view_summary($vars);
}

/**
 * Template preprocess function for all views.
 */
function summary_extra_preprocess_views_view(&$vars) {
  // Disable edit-links on embedded gallery views.
  if (isset($vars['view']->gallery_summary)) {
    $vars['admin_links'] = FALSE;
  }
}
