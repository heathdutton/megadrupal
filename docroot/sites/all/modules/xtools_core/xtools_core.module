<?php

/**
 * An alias for debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS) that works with
 * PHP versions before 5.3.6 too.
 *
 * return array
 */
function xtools_backtrace() {
  if (version_compare(PHP_VERSION, '5.3.6', '>=')) {
    $backtrace = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS);
    array_shift($backtrace);
    return $backtrace;
  }
  else {
    $backtrace = debug_backtrace();
    array_shift($backtrace);
    foreach ($backtrace as &$call) {
      unset($call['args']);
    }
    return $backtrace;
  }
}

/**
 * An alias for print_r(xtools_backtrace()).
 */
function xtools_backtrace_print() {
  $backtrace = xtools_backtrace();
  array_shift($backtrace);
  print_r($backtrace);
}