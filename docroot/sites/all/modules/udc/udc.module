<?php
/**
 * @file
 * Module main file
 *
 */


/**
 * Implements hook_help() .
 *
 * Returns help and module information
 * @param string $path which path of the site we're displaying help
 * @param array $arg Holds the current path as would be returned from arg() function
 * @return string
 */
function udc_help($path, $arg) {
  if ($path != "admin/help#udc") {
    return '';
  }
  require_once(dirname(__FILE__) . '/include/admin.txt.inc');
  return udc_admin_get_help();
}

/**
 * Implements hook_permission() .
 *
 * Returns the required permissions for the udc module
 * @return array
 */
function udc_permission() {
  return array(
    'administer udc' => array(
      'title' => t('Configure User Data Connector'),
      'restrict access' => TRUE
    )
  );
}


/**
 * Implements hook_hook_menu() .
 *
 * Administration menu entry
 * @return array
 */
function udc_menu() {
  return array(
    'admin/config/people/udc' => array(
      'title' => 'User Data Connector',
      'description' => 'Settings for User Connector module',
      'page callback' => 'drupal_get_form',
      'page arguments' => array('udc_admin'),
      'access arguments' => array('administer udc'),
      'file' => 'include/admin.inc',
    ),
    'admin/config/people/udc/autocomplete/users' => array(
      'title' => 'User Data Connector user autocomplete',
      'page callback' => 'udc_users_autocomplete',
      'access callback' => 'user_access',
      'access arguments' => array('administer udc'),
      'type' => MENU_CALLBACK,
      'file' => 'include/admin.inc',
    ),
    'admin/config/people/udc/autocomplete/roles' => array(
      'title' => 'User Data Connector role autocomplete',
      'page callback' => 'udc_roles_autocomplete',
      'access callback' => 'user_access',
      'access arguments' => array('administer udc'),
      'type' => MENU_CALLBACK,
      'file' => 'include/admin.inc',
    ),
    'admin/config/people/udc/autocomplete/userfields' => array(
      'title' => 'User Data Connector userfields autocomplete',
      'page callback' => 'udc_userfields_autocomplete',
      'access callback' => 'user_access',
      'access arguments' => array('administer udc'),
      'type' => MENU_CALLBACK,
      'file' => 'include/admin.inc',
    )
  );
}
