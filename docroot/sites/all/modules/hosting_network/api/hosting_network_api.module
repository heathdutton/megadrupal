<?php

/**
 * Implementation of hook_resources
 */
function hosting_network_api_services_resources() {
  $resources = array();

  // TODO: Servers
  // TODO: Platforms

  // Site Services
  $resources['hosting_network_site'] = array(
    'index' => array(
      'callback' => 'hosting_network_api_list_sites',
      'help' => t('List all sites on all servers'),
      'access arguments' => array('get site'),
      'file' => array('type' => 'inc', 'name' => 'hosting_network_api.api', 'module' => 'hosting_network_api'),
    ),
    'retrieve' => array(
      'callback' => 'hosting_network_api_get_site_by_url',
      'help' => t('Get a network site (and the server it\'s on).'),
      'access arguments' => array('get site'),
      'file' => array('type' => 'inc', 'name' => 'hosting_network_api.api', 'module' => 'hosting_network_api'),
      'args' => array(
        array(
          'name' => 'url',
          'type' => 'string',
          'optional' => FALSE,
          'description' => t('The site url'),
          'source' => array('path' => '0')
        ),
        array(
          'name' => 'server_nid',
          'type' => 'int',
          'optional' => TRUE,
          'description' => t('The server\'s nid (leave out to search all servers)'),
          'source' => array('path' => '1')
        ),
      ),
    ),
  );

  return $resources;
}
