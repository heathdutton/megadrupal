<?php

/**
 * Implements hook_install().
 */
function exclude_node_author_install() {
  // attach default permission to use exclude node author
  $res = db_query("SELECT rid FROM {role}");
  foreach ($res as $role) {
    db_query("INSERT INTO {role_permission} (rid, permission, module)
        VALUES (:rid, 'use exclude node author', 'exclude_node_author')",
            array(':rid' => $role->rid));
  }
  //By default, don't change the behavior for admin users.
    variable_set('exclude_node_author_administrator', 0);
}

/**
 * Implements hook_uninstall().
 */
function exclude_node_author_uninstall() {
  variable_del('exclude_node_author_nid_list');
}  