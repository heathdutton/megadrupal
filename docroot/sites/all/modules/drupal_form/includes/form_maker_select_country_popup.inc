<?php/** * @file * Choose countries list. *//** * Select countries which must be shown. */function form_maker_select_country_preview() {  if (isset($_GET['field_id'])) {    $field_id = $_GET['field_id'];  }  else {    return;  }  echo '<style>          #sliding_popup {display:block; left:0px; margin:0px; padding:0px; position:fixed; width:100%;}          #sliding_popup .form_maker_content {position:absolute; left:50%; top:0px; display:block; height:100%;}        </style>        <div style="width:100%; height:100%; background-color:#000000; opacity:0.80;"></div>        <div id="div_content" class="form_maker_content" style="z-index:1000000;height:400px; width:600px; margin-left:-300px; top:20px; background-color:#FFFFFF; overflow:auto; padding:10px;">          <span style="position:absolute; right:29px;">            <img alt="ADD" title="add" style="cursor:pointer; vertical-align:middle; margin:5px;" src="' . base_path() . drupal_get_path('module', 'form_maker') . '/images/save.png" onclick="save_list()">            <img alt="CANCEL" title="cancel" style="cursor:pointer; vertical-align:middle; margin:5px;" src="' . base_path() . drupal_get_path('module', 'form_maker') . '/images/cancel_but.png" onclick="form_maker_destroypopup(1000);">          </span>          <button onclick="select_all()">' . t('Select all') . '</button>          <button onclick="remove_all()">' . t('Remove all') . '</button>          <ul id="countries_list" style="list-style:none; padding:0px"></ul>          <script>            selec_coutries = [];            coutries = ["","Afghanistan","Albania",	"Algeria","Andorra","Angola","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombi","Comoros","Congo (Brazzaville)","Congo","Costa Rica","Cote d\'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","East Timor (Timor Timur)","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","Gabon","Gambia, The","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea, North","Korea, South","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepa","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","Norway","Oman","Pakistan","Palau","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint Kitts and Nevis","Saint Lucia","Saint Vincent","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia and Montenegro","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","Spain","Sri Lanka","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"];            select_ = document.getElementById("' . $field_id . '_elementform_id_temp");            n = select_.childNodes.length;            for (i = 0; i < n; i++) {              selec_coutries.push(select_.childNodes[i].value);              var ch = document.createElement("input");              ch.setAttribute("type", "checkbox");              ch.setAttribute("checked", "checked");              ch.value = select_.childNodes[i].value;              ch.id = i + "ch";              //ch.setAttribute("id", i);              var p = document.createElement("span");              p.style.cssText = "color:#000000; font-size: 13px; cursor:move";              p.innerHTML = select_.childNodes[i].value;              var li = document.createElement("li");              li.style.cssText = "margin:3px; vertical-align:middle";              li.id = i;              li.appendChild(ch);              li.appendChild(p);              document.getElementById("countries_list").appendChild(li);            }            cur = i;            m = coutries.length;            for (i = 0; i < m; i++) {              isin = isValueInArray(selec_coutries, coutries[i]);              if (!isin) {                var ch = document.createElement("input");                ch.setAttribute("type", "checkbox");                ch.value = coutries[i];                ch.id = cur + "ch";                var p = document.createElement("span");                p.style.cssText = "color:#000000; font-size: 13px; cursor:move";                p.innerHTML = coutries[i];                var li = document.createElement("li");                li.style.cssText = "margin:3px; vertical-align:middle";                li.id = cur;                li.appendChild(ch);                li.appendChild(p);                document.getElementById("countries_list").appendChild(li);                cur++;              }            }            // $.noConflict();            // jQuery(function() {              // jQuery("#countries_list").sortable();              // jQuery("#countries_list").disableSelection();            // });            function isValueInArray(arr, val) {              inArray = false;              for (x = 0; x < arr.length; x++) {                if (val == arr[x]) {                  inArray = true;                }              }              return inArray;            }            function save_list() {              select_.innerHTML = "";              ul = document.getElementById("countries_list");              n = ul.childNodes.length;              for(i = 0; i < n; i++) {                if (ul.childNodes[i].tagName == "LI") {                  id = ul.childNodes[i].id;                  if (document.getElementById(id + "ch").checked) {                    var option_ = document.createElement("option");                    option_.setAttribute("value", document.getElementById(id + "ch").value);                    option_.innerHTML = document.getElementById(id + "ch").value;                    select_.appendChild(option_);                  }                }              }              form_maker_destroypopup(1000);            }            function select_all() {              for (i = 0; i < 194; i++) {                document.getElementById(i + "ch").checked = true;              }            }            function remove_all() {              for (i = 0; i < 194; i++) {                document.getElementById(i + "ch").checked = false;              }            }          </script>        </div>';}