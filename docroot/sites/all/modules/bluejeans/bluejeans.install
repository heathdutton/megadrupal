<?php

/**
 * Implements hook_schema().
 */
function bluejeans_schema() {
  return bluejeans_schema_7000();
}

function bluejeans_schema_7000() {
  $schema['bluejeans_conference'] = array(
    'description' => 'BlueJeans conference table.',
    'fields' => array(
      'meeting_id' => array(
        'description' => 'BlueJeans meeting identifier.',
        'type' => 'int',
        'not null' => TRUE,
      ),
      'title' => array(
        'description' => 'Conference title.',
        'type' => 'varchar',
        'length' => '255',
        'not null' => TRUE,
      ),
      'description' => array(
        'description' => 'Conference agenda/description/greeting.',
        'type' => 'text',
      ),
      'start' => array(
        'description' => 'Conference start datetime in UNIX format.',
        'type' => 'int',
        'not null' => TRUE,
      ),
      'end' => array(
        'description' => 'Conference end datetime in UNIX format.',
        'type' => 'int',
        'not null' => TRUE,
      ),
      'metadata' => array(
        'description' => 'Raw BlueJeans conference metadata (JSON-encoded).',
        'type' => 'text',
        'not null' => TRUE,
      ),
    ),
    'primary key' => array('meeting_id'),
  );
  $schema['bluejeans_conferences_nodes'] = array(
    'description' => 'BlueJeans conferences to nodes mapping table.',
    'fields' => array(
      'meeting_id' => array(
        'description' => 'BlueJeans meeting identifier.',
        'type' => 'int',
        'not null' => TRUE,
      ),
      'nid' => array(
        'description' => 'Node associated with conference.',
        'type' => 'int',
        'not null' => TRUE,
      ),
    ),
    'primary key' => array('meeting_id', 'nid'),
  );
  return $schema;
}
