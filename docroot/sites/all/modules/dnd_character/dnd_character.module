<?php
/**
 * @file
 * TODO: Enter file description here.
 */

/**
 * Implements hook_node_info().
 */
function dnd_character_node_info() {
  return array(
    'dnd_character' => array(
      'name' => t('D&D character'),
      'base' => 'node_content',
      'description' => t('A 3rd edition (3.0 or 3.5) D&D player character.'),
    )
  );
}

/**
 * Implements hook_node_load().
 */
function dnd_character_node_load($nodes, $types) {
  foreach ($nodes as $nid => $node) {
    if ($node->type == 'dnd_character') {
      // Add complete list of skills to the node
      module_load_include('inc', 'dnd_character', 'dnd_character.api');
      $node->dnd_character_skills = dnd_character_node_skills($node);
    }
  }
}
