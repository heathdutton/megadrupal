<?php

/**
 * @file
 * Install file.
 */

/**
 * Implements hook_schema_alter().
 */
function tardisrender_schema_alter(&$schema) {
  // Defines new View modes for TARDIS pages.
  $schema['tardis_pages']['fields']['tardisrender_view_mode'] = array(
    'type' => 'varchar',
    'length' => 255,
    'default' => '',
    'description' => t('Sets a view mode for use with TARDIS pages.'),
  );
}

/**
 * Implements hook_install().
 */
function tardisrender_install() {
  // Installs a View mode field for the TARDIS pages.
  $schema_pages = drupal_get_schema('tardis_pages');
  db_add_field(
    'tardis_pages',
    'tardisrender_view_mode',
    $schema_pages['fields']['tardisrender_view_mode']
  );
}

/**
 * Implements hook_uninstall().
 */
function tardisrender_uninstall() {
  db_drop_field('tardis_pages', 'tardisrender_view_mode');
}
