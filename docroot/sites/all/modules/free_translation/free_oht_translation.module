<?php
/**
 * @file
 * Adds Free Translation code by One Hour Translation into the footer of each page.
 */
/**
 * Implements hook_preprocess_page().
 */
function free_oht_translation_preprocess_page(&$vars) {
  // skip admin paths
  if (path_is_admin(current_path())) {
    return;
  }

  drupal_add_js("var _ohtConfig = { debug : true, v : 0.2, mscp : ('https:' == document.location.protocol ? 'https://' : 'http://') + 'owsassets.onehourtranslation.com/build/0.2', services : { MT:{} } }; (function() { var oscr = document.createElement('script'); oscr.type = 'text/javascript'; oscr.async = true; oscr.src = _ohtConfig.mscp+'/all.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(oscr, s); })(); document.write('<div align=center><a href=\"http://www.onehourtranslation.com\">Translation Services</a> Powered by One Hour Translation</div>')",
    array('type' => 'inline', 'scope' => 'footer'));
}
