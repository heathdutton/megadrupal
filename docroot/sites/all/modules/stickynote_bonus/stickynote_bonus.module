<?php

/**
 * @file Helper module for better sticky notes.
 * Mini Module developed by DROWL.de
 */

/**
 * Implements hook_form_alter().
 * @param type $form
 * @param type $form_state
 * @param type $form_id
 */
function stickynote_form_alter(&$form, &$form_state, $form_id) {
  switch ($form_id) {
    case 'stickynote_add_form':
    case 'stickynote_edit_form':
      $module_path = drupal_get_path('module', 'stickynote_bonus');
      $js_settings = _stickynote_bonus_get_settings();
      $form['#attached']['css'][] = $module_path . '/stickynote_bonus.css';
      $form['#attached']['js'][] = array(
        'data' => array('stickynote_bonus' => $js_settings),
        'type' => 'setting'
      );
      $form['#attached']['js'][] = $module_path . '/stickynote_bonus.js';
      break;
  }
}

function _stickynote_bonus_get_settings() {
  return array();
}

/**
 * Implements hook_entity_info_alter (https://api.drupal.org/api/drupal/modules!system!system.api.php/function/hook_entity_info_alter/7)
 */
function stickynote_bonus_entity_info_alter(&$entity_info) {
  // Remove the "URL Redirect" options under the stickynode form!
  // For integration with Redirect module.
  // @see http://drupal.org/node/1263884
  $entity_info['stickynote']['redirect'] = FALSE;
}
