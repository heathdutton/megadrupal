<?php

/**
 * Implements hook_schema_alter().
 */
function comment_trust_schema_alter(&$schema) {
  // Update comment schema to reflect index on mail column.
  $schema['comment']['indexes']['mail'] = array('mail');
}

/**
 * Implements hook_install().
 */
function comment_trust_install() {
  // Add index on mail column in comment table.
  db_add_index('comment', 'mail', array('mail'));
}

/**
 * Implements hook_uninstall().
 */
function comment_trust_uninstall() {
  // remove index on mail column in comment table.
  db_drop_index('comment', 'mail');

  // Delete variables.
  variable_del('comment_trust_threshold');
  variable_del('comment_trust_exclude');
}
