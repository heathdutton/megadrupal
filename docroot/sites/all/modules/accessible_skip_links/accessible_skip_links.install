<?php
/**
 * @file
 * Contains the install-related hooks for accessible_skip_links.
 */

/**
 * Implements hook_enable().
 *
 * Sets the weight of accessible_skip_links higher than context if it exists.
 */
function accessible_skip_links_enable() {
  $weight = 0;
  if (module_exists('context')) {
    $result = db_query("SELECT weight FROM {system} WHERE name = 'context'")->fetchObject();
    $weight = isset($result->weight) ? $result->weight : $weight;
  }
  db_query("UPDATE {system} SET weight = :w WHERE name = 'accessible_skip_links'", array(':w' => $weight+1));
}
