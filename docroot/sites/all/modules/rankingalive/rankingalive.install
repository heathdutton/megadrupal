<?php

/**
 * @file
 * Installation file for rankingalive module.
 */

/**
 * Implements hook_uninstall().
 */
function rankingalive_uninstall() {
  variable_del('rankingalive_id');
  variable_del('rankingalive_js_scope');
  variable_del('rankingalive_pages');
  variable_del('rankingalive_visibility_pages');
}

/**
 * Implements hook_requirements().
 */
function rankingalive_requirements($phase) {
  $requirements = array();
  $t = get_t();

  if ($phase == 'runtime') {
    // Raise warning if Ranking Alive user account has not been set yet.
    if (!variable_get('rankingalive_id', '')) {
      $requirements['rankingalive'] = array(
        'title' => $t('Ranking Alive module'),
        'description' => $t('Ranking Alive module has not been configured yet. Please configure its settings from the <a href="@url">Ranking Alive settings page</a>.', array('@url' => url('admin/config/system/rankingalive'))),
        'severity' => REQUIREMENT_WARNING,
        'value' => $t('Not configured'),
      );
    }
  }

  return $requirements;
}
