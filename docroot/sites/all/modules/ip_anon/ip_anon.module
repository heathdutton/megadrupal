<?php

/**
 * @file
 * Implements an IP address retention policy.
 */

/**
 * Implement hook_cron().
 */
function ip_anon_cron() {
  if (variable_get('ip_anon_policy', 0)) {
    module_load_include('inc', 'ip_anon');
    ip_anon_scrub();
  }
}

/**
 * Implement hook_menu().
 */
function ip_anon_menu() {
  $items = array();
  $items['admin/config/people/ip_anon'] = array(
    'title' => 'IP anonymize',
    'description' => 'Configure the IP address retention policy.',
    'page callback' => 'drupal_get_form',
    'page arguments' => array('ip_anon_settings'),
    'access arguments' => array('administer site configuration'),
    'file' => 'ip_anon.inc',
  );
  return $items;
}
