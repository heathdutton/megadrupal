/**
 * @file
 * The main javascript file for the splash_offer module
 *
 * @ingroup splash_offer
 * @{
 */(function(e){Drupal.splashOffer=Drupal.splashOffer||{};Drupal.splashOffer.cookieHandler=function(t){var n="splash_offer:"+Drupal.settings.splashOffer.id;Drupal.settings.splashOffer.hasOwnProperty("cookie")&&e("#splash-offer-set-cookie:checked").length&&(Drupal.settings.splashOffer.cookie.expiry>0?e.cookie(n,t,{expires:parseInt(Drupal.settings.splashOffer.cookie.expiry,10)}):e.cookie(n,t));e("#splash-offer-set-cookie:checked").length||e.cookie(n,null)};Drupal.splashOffer.show=function(){var t={dialogClass:"splash-offer-dialog splash-offer-dialog-"+Drupal.settings.splashOffer.id,height:e(".entity-splash-offer").height(),width:e(".entity-splash-offer").width(),autoOpen:!0,modal:!0,draggable:!1,resizable:!1};Drupal.settings.splashOffer.hasOwnProperty("yes")&&e.extend(t,{buttons:[{text:Drupal.settings.splashOffer.yes.text,click:function(){Drupal.splashOffer.cookieHandler("yes");Drupal.splashOffer.hide();return Drupal.splashOffer.redirect("yes")}},{text:Drupal.settings.splashOffer.no.text,click:function(){Drupal.splashOffer.cookieHandler("no");Drupal.splashOffer.hide();return!1}}]});e(".entity-splash-offer").dialog(t)};Drupal.splashOffer.hide=function(){e(".entity-splash-offer").dialog("close")};Drupal.splashOffer.redirect=function(e){if(typeof Drupal.settings.splashOffer[e].path!="undefined"){window.open(Drupal.settings.splashOffer[e].path);return!1}return!0};Drupal.behaviors.splashOffer=Drupal.behaviors.splashOffer||{};Drupal.behaviors.splashOffer.attach=function(t,n){e(".form-item-data-devices-always-trigger .form-checkbox").click(function(){var t=!e(this).is(":checked");e(this).parents(".fieldset-wrapper").find("fieldset").each(function(){(t&&e(this).hasClass("collapsed")||!t&&!e(this).hasClass("collapsed"))&&e(this).find("a.fieldset-title").click()})});if(typeof Drupal.settings.splashOffer!="undefined"&&Drupal.settings.splashOffer.hasOwnProperty("id")){var r="splash_offer:"+Drupal.settings.splashOffer.id;if(Drupal.settings.splashOffer.hasOwnProperty("cookie")&&e.cookie(r))return;Drupal.splashOffer.show();e(".splash-offer-no, .ui-dialog-titlebar-close").click(function(){Drupal.splashOffer.cookieHandler("no");Drupal.splashOffer.hide();return!1});e(".splash-offer-yes").click(function(){Drupal.splashOffer.cookieHandler("yes");Drupal.splashOffer.hide();return Drupal.splashOffer.redirect("yes")})}e(window).resize(function(){e(".entity-splash-offer").dialog("option","position","center")})}})(jQuery);