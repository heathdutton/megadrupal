<?php

/**
 * @file
 * Drupal Module: Slimbox2.
 *
 * Slimbox2 is a module/wrapper that integrates
 * Slimbox2 jQuery plugin from www.digitalia.be
 * into Drupal websites.
 *
 * author: Andrew Wasson <https://drupal.org/user/127091>
 */

/**
 * Implements hook_help().
 */
function slimbox2_help($path, $arg) {
  if ($path == 'admin/help#slimbox2') {
    return t("<p><b>The Slimbox 2 Module</b></p>
    <p>The slimbox 2 module is a wrapper that integrates the lightweight Slimbox 2 'lightbox' jQuery extension into your Drupal site.</p>
    <p>In order for the Slimbox 2 module to work you must have a copy of the Slimbox 2 jQuery extension installed in your website's libraries directory<br/>
    Get the extension from http://www.digitalia.be/software/slimbox2, rename it to 'slimbox2' and upload it to your libraries folder at /sites/all/libraries/slimbox2.</p>
    <p>With the Slimbox 2 extension installed on your site you can give any link a 'lightbox' effect by adding a rel=\"lightbox\" attribute.</p>
    <p>&nbsp;</p>");
  }
}

/**
 * Implements hook_libraries_info().
 */
function slimbox2_libraries_info() {
  // Use Libraries API to define the slimbox2 plugin.
  $libraries['slimbox2'] = array(
    'name' => 'Slimbox 2',
    'vendor url' => 'http://www.digitalia.be/software/slimbox2',
    'download url' => 'http://code.google.com/p/slimbox/downloads/detail?name=slimbox-2.05.zip',
    'version' => '2.05',
    'files' => array(
      'js' => array('js/slimbox2.js'),
      'css' => array('css/slimbox2.css'),
    ),
  );

  return $libraries;

}

/**
 * Implements hook_page_build().
 */
function slimbox2_page_build(&$page) {
  // Use Libraries API to load js/css into header.
  libraries_load('slimbox2');
  $page['#attached']['libraries_load'][] = array('slimbox2');
}
