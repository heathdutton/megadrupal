(function(e){Drupal.behaviors.shortcutDrag={attach:function(t,n){if(Drupal.tableDrag){var r=e("table#shortcuts"),i=0,s=0,o=Drupal.tableDrag.shortcuts;e("> tbody > tr, > tr",r).filter(":visible").filter(":odd").filter(".odd").removeClass("odd").addClass("even").end().end().filter(":even").filter(".even").removeClass("even").addClass("odd").end().end().end().filter(".shortcut-slot-empty").each(function(t){e(this).is(":visible")&&i++,s++}),o.row.prototype.onSwap=function(t){var n=e(r).find("tr").index(e(r).find("tr.shortcut-status-disabled"))-s-2,u=0;e(r).find("tr.shortcut-status-enabled").nextAll(":not(.shortcut-slot-empty)").each(function(e){e<n&&u++});var a=s-u;if(a==-1){var f=e(r).find("tr.shortcut-status-disabled"),l=f.prevAll(":not(.shortcut-slot-empty)").not(e(this.element)).get(0);f.after(l);if(e(l).hasClass("draggable")){var c=new o.row(l,"mouse",!1,0,!0);c.markChanged(),o.rowStatusChange(c)}}else a!=i&&(a>i?(e(".shortcut-slot-empty:hidden:last").show(),i++):(e(".shortcut-slot-empty:visible:last").hide(),i--))},o.onDrop=function(){return o.rowStatusChange(this.rowObject),!0},o.rowStatusChange=function(t){var n=e(t.element).prevAll("tr.shortcut-status").get(0),r=n.className.replace(/([^ ]+[ ]+)*shortcut-status-([^ ]+)([ ]+[^ ]+)*/,"$2"),i=e("select.shortcut-status-select",t.element);i.val(r)},o.restripeTable=function(){e("> tbody > tr:visible, > tr:visible",this.table).filter(":odd").filter(".odd").removeClass("odd").addClass("even").end().end().filter(":even").filter(".even").removeClass("even").addClass("odd")}}}},Drupal.behaviors.newSet={attach:function(t,n){var r=function(){e(this).closest("form").find(".form-item-set .form-type-radio:last input").attr("checked","checked")};e("div.form-item-new input").focus(r).keyup(r)}}})(jQuery);