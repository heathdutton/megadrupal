(function(e){Drupal.behaviors.tableSelect={attach:function(t,n){e("th.select-all",t).closest("table").once("table-select",Drupal.tableSelect)}},Drupal.tableSelect=function(){if(e("td input:checkbox",this).length==0)return;var t=this,n,r,i={selectAll:Drupal.t("Select all rows in this table"),selectNone:Drupal.t("Deselect all rows in this table")},s=function(n){e(t).prev("table.sticky-header").andSelf().find("th.select-all input:checkbox").each(function(){e(this).attr("title",n?i.selectNone:i.selectAll),this.checked=n})};e("th.select-all",t).prepend(e('<input type="checkbox" class="form-checkbox" />').attr("title",i.selectAll)).click(function(t){e(t.target).is("input:checkbox")&&(n.each(function(){this.checked=t.target.checked,e(this).closest("tr").toggleClass("selected",this.checked)}),s(t.target.checked))}),n=e("td input:checkbox:enabled",t).click(function(t){e(this).closest("tr").toggleClass("selected",this.checked),t.shiftKey&&r&&r!=t.target&&Drupal.tableSelectRange(e(t.target).closest("tr")[0],e(r).closest("tr")[0],t.target.checked),s(n.length==e(n).filter(":checked").length),r=t.target})},Drupal.tableSelectRange=function(t,n,r){var i=t.rowIndex>n.rowIndex?"previousSibling":"nextSibling";for(var s=t[i];s;s=s[i]){if(s.nodeType!=1)continue;e(s).toggleClass("selected",r),e("input:checkbox",s).each(function(){this.checked=r});if(n.nodeType){if(s==n)break}else if(e.filter(n,[s]).r.length)break}}})(jQuery);