<?php

/**
 * Implements hook_browser_details_plugin().
 */
function bd_os_browser_details_plugin() {
    return array(
        'operating_system' => array(
            'name' => 'operating_system',
            'title' => 'Operating System',
            'icon' => 'bd_os_load_icon',
            'content' => 'bd_os_load_content',
        ),
    );
}

function bd_os_load_content() {
    $info = get_browser(null);
    return $info->platform;
}

function bd_os_load_icon() {
    $info = get_browser(null);
    return drupal_get_path('module', 'bd_os') . '/images/' . strtolower($info->platform) . '.png';
}
