<?php

/**
 * @file
 * Achecker wysiwyg module hook implementations.
 */

/**
 * Implements hook_wysiwyg_plugin().
 */
function achecker_integration_wysiwyg_wysiwyg_plugin($editor) {

  $plugins = array();
  switch ($editor) {

    // Only TinyMCE supported.
    case 'tinymce':

      $path_tinymce = libraries_get_path('tinymce');
      if ($path_tinymce) {
        $file_acheck = $path_tinymce . '/jscripts/tiny_mce/plugins/acheck/editor_plugin.js';
        if (file_exists($file_acheck)) {
          $plugins['acheck'] = array(
            'path'       => 'sites/all/libraries/plugins/acheck',
            'buttons'    => array('acheck' => t('Accessibility Check')),
            'extensions' => array('achecker' => t('Accessibility Checker')),
            'url'        => 'http://atutor.ca/achecker',
            'internal'   => TRUE,
            'load'       => TRUE,
          );
        }
      }
      break;
  }

  return $plugins;
}
