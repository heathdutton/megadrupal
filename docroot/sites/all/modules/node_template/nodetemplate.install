<?php

/**
 * @file
 * Install, uninstall, and update functions for nodetemplate.module.
 */

/**
 * Implements hook_schema().
 */
function nodetemplate_schema() {

  $schema['node_template'] = array(
    'description' => 'Template table to store node template information.',
    'fields' => array(
      'nid' => array(
        'description' => 'The {node}.nid of the node.',
        'type' => 'int', 
        'unsigned' => TRUE, 
        'not null' => TRUE, 
        'default' => 0
      ),
       'is_template' => array(
        'description' => 'Sepcify if the node is template.',
        'type' => 'int',
        'not null' => TRUE, 
        'default' => 0
      ),
    ),
    'primary key' => array('nid')
  );
  
  return $schema;
}

/**
 * Create the required tables
 */
function nodetemplate_update_7300() {
  if (!db_table_exists('node_template')) {
    $specs = nodetemplate_schema();
    db_create_table('node_template', $specs['node_template']);
  }
  
  drupal_set_message(t('Node template has created the required tables.'));
}



