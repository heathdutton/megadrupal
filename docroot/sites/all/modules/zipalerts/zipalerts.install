<?php

/**
 * @file
 * Installation Process.
 */

/**
 * Implements hook_enable().
 */
function zipalerts_enable() {
  drupal_set_message(t('The Zip Alerts  module was successfully enabled.'), 'status');
  cache_clear_all();
}

/**
 * Implements hook_disable().
 */
function zipalerts_disable() {
  drupal_set_message(t('The Zip Alerts  module was successfully disable.'), 'status');
  cache_clear_all();
}

/**
 * Implements hook_requirements().
 */
function zipalerts_requirements($phase) {

  $requirements = array();

  $t = get_t();

  if ($phase == 'install') {
    if (module_exists('recruiter_job_application') && module_exists('zipalerts_for_non_recruiter')) {
      $requirements['too_many_modules'] = array(
        'title' => $t('Too many modules'),
        'description' => $t('You may not enable Recruiter job application and Zip Alerts For Non Recruiter simultaneously'),
        'value' => 'Too many modules',
        'severity' => REQUIREMENT_ERROR,
      );
    }
    if (!module_exists('recruiter_job_application') && !module_exists('zipalerts_for_non_recruiter')) {
      $requirements['not_enough_modules'] = array(
        'title' => $t('Not enough modules'),
        'description' => $t('You must enable Recruiter job application or Zip Alerts For Non Recruiter (but not both)'),
        'value' => 'Not enough modules',
        'severity' => REQUIREMENT_ERROR,
      );
    }
  }

  return $requirements;
}
