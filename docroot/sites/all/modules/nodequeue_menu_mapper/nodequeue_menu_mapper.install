<?php

/**
 *  Integrates hook menu schema. Creates a table for tracking which nodequeues associate with what menus.
 */

function nodequeue_menu_mapper_schema() {
  $schema['nodequeue_menu_mapper'] = array(
    'description' => t('Table for maintaining menu and nodequeue relationships'),
    'fields' => array(
      'associative_id' => array(
        'type' => 'serial',
        'not null' => TRUE
      ),
      'nodequeue_name' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => TRUE,
      ),
      'menu_name' => array(
        'type' => 'varchar',
        'length' => 255,
        'not null' => TRUE,
      ),
    ),
    'foreign keys' => array(
      'nodequeue_queue' => array(
        'table' => 'nodequeue_queue',
        'columns' => array('nodequeue_name' => 'name'),
      ),
      'menu_name' => array(
        'table' => 'menu_custom',
        'columns' => array('menu_name' => 'menu_name'),
      ),
    ),
    'primary key' => array('associative_id'),
  );
  return $schema;
}
