<?php
/**
 * @file
 * Code for the Color Tagger Example feature.
 */

include_once 'color_tagger_example.features.inc';

/**
 * Implements hook_taxonomy_vocabulary_insert().
 */
function color_tagger_example_taxonomy_vocabulary_insert($vocabulary) {
  if ($vocabulary->machine_name === 'colors') {
    // Populates 'Colors' vocabulary with sample taxonomy terms.
    $terms = array(
      'Blue' => array('1F25DB', '30BFBF'),
      'Green' => array('30BF7F', '81BF30'),
      'Yellow' => array('B1BF30', 'BF9930'),
      'Orange' => array('BF8B30', 'BF6930'),
      'Red' => array('BF3C30', 'DB519D'),
      'Purple' => array('BF309B', '5A26BF'),
      'White' => array('FFFFFF'),
      'Black' => array('0A0A0A'),
      'Gray' => array('808080'),
    );

    foreach ($terms as $name => $hex_codes) {
      $term = new stdClass();
      $term->vid = $vocabulary->vid;
      $term->name = $name;
      foreach ($hex_codes as $hex) {
        $term->field_hex_code[LANGUAGE_NONE][]['value'] = $hex;
      }
      taxonomy_term_save($term);
    }
  }
}

/**
 * Implements hook_menu().
 */
function color_tagger_example_menu() {
  $items['admin/config/media/color-tagger/test'] = array(
    'title' => 'Color Tagger Test',
    'page callback' => 'drupal_get_form',
    'page arguments' => array('color_tagger_test_colors_form'),
    'access arguments' => array('administer color tagger'),
    'access callback' => 'user_access',
    'file' => 'color_tagger_example.admin.inc',
    'type' => MENU_LOCAL_TASK,
  );
  return $items;
}
