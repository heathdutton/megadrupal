<?php

/**
 * @file
 * Handles installation for Commerce Default Tax Rate module
 */

/**
 * Implements hook_install().
 */

function commerce_default_tax_rate_install() {
  //If there's only one rate in the system then set it when the module is installed. If we don't want this then why install the module?
  $rates = commerce_tax_rate_titles();
  if (count($rates) == 1) {
    variable_set('commerce_default_tax_rate_default', key($rates));
  }
}


/**
 * Implements hook_uninstall().
 */

function commerce_default_tax_rate_uninstall() {
  db_delete('variable')
    ->condition('name', db_like('commerce_default_tax_rate') . '%', 'LIKE')
    ->execute();
  cache_clear_all('variables', 'cache_bootstrap');
}