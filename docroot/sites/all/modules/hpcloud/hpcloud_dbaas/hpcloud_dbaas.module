<?php
/**
 * @file
 * The hpcloud_dbaas module.
 */

/**
 * Implements hook_help().
 */
function hpcloud_dbaas_help($path, $arg) {
  switch ($path) {
    case 'admin/help#hpcloud_dbaas':
      return '<p>' . t('DBaaS management for HPCloud.') . '</p>';
  }
}

/**
 * Implements hook_menu().
 */
function hpcloud_dbaas_menu() {
  $items['admin/config/services/hpcloud-dbaas'] = array(
    'title' => 'HPCloud DBaaS',
    'description' => t('Manage HPCloud Database as a Service.'),
    'page callback' => 'drupal_get_form',
    'page arguments' => array('hpcloud_dbaas_admin_instance_list_form'),
    'access arguments' => array('Administer hpcloud'),
    'type' => MENU_NORMAL_ITEM,
    'file' => 'hpcloud_dbaas.admin.inc',
    'weight' => -1,
  );

  $items['admin/config/services/hpcloud-dbaas/instances'] = array(
    'title' => 'Database Instances',
    'page callback' => 'drupal_get_form',
    'page arguments' => array('hpcloud_dbaas_admin_instance_list_form'),
    'access arguments' => array('Administer hpcloud'),
    'type' => MENU_DEFAULT_LOCAL_TASK,
    'file' => 'hpcloud_dbaas.admin.inc',
    'weight' => -3,
  );

  $items['admin/config/services/hpcloud-dbaas/snapshots'] = array(
    'title' => 'Database Snapshots',
    'page callback' => 'drupal_get_form',
    'page arguments' => array('hpcloud_dbaas_admin_snapshot_list_form'),
    'access arguments' => array('Administer hpcloud'),
    'type' => MENU_LOCAL_TASK,
    'file' => 'hpcloud_dbaas.admin.inc',
    'weight' => 1,
  );

  /*
  $items['admin/config/services/hpcloud-dbaas/settings'] = array(
    'title' => t('Settings'),
    'description' => t('Manage HPCloud DBaaS.'),
    'page callback' => 'drupal_get_form',
    'page arguments' => array('hpcloud_dbaas_admin_settings'),
    'access arguments' => array('Administer hpcloud'),
    'type' => MENU_LOCAL_TASK,
    'file' => 'hpcloud_dbaas.admin.inc',
    'weight' => -5,
  );
   */
  return $items;
}

function _hpcloud_dbaas() {
  // Right now, we make our own connection to Identity Services
  // because we use different fields than other services.

  //
}
