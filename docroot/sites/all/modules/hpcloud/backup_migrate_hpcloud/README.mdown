# Backup and Migrate for HPCloud

This module provides a [HPCloud](http://hpcloud.com) backend for the [Backup and
Migrate Drupal module](http://drupal.org/project/backup_migrate).

## Installation

* Install "Backup and Migrate"
* Apply the patches to Backup and Migrate (more information on the patches below)
* Install "HPCloud"
* Install "Backup and Migrate for HPCloud"
* Configure "Backup and Migrate"
* Configure HPCloud authentication

## Configuring the Backup and Migrate HPCloud backend

This is two steps:

* Map an Object Storage Container to the `hpcloud://` stream wrapper.
* Set up an HPCloud Object Storage destination

The first step is done in `Administer > Settings > HPCloud > Stream wrappers`.

The second step is done in `Administer > Backup and Migrate > Destinations`.
From there, click `Add Destination`.

## Patches

Two patches are provided with this module to operate with 
[Backup and Migrate](http://drupal.org/project/backup_migrate).

- 1452462: To Use the native PHP funtions for decompression and provide to fail
  cleanly for the case where these functions are not available. This has been 
  comitted to the Backup and Migrate project and should be avaiable in the next
  release. At that time we will no longer ship with a patch.
- 1450966: There is a case where Backup and Migrate Files attempts to generate
  a system path. A system path won't exist for a remote file system. This patch
  uses stream wrappers to generate this path.

## Known Issues

Currently, gzipped backup files cannot be restored. Something in the filter
chain is failing.


