<?php
/**
 * @file
 * HelloBar integration.
 */

/**
 * Push message.
 *
 * @param array $messages
 *   An associative array containing:
 *   - element: Arguments for HelloBar JS.
 */
function hellobar_say($messages = array()) {
  if (hellobar_library_exist()) {
    drupal_add_js(array('HelloBar' => $messages), 'setting');
  }
}

/**
 * HelloBar initialization.
 */
function hellobar_initialization() {
  if (hellobar_library_exist()) {
    $hellobar_path = libraries_get_path('hellobar-solo') . '/hellobar-solo';
    $module_path = drupal_get_path('module', 'hellobar');

    drupal_add_css($hellobar_path . '/hellobar.css');
    drupal_add_js($hellobar_path . '/hellobar.js');

    drupal_add_js($module_path . '/js/hellobar_say.js');
  }
}

/**
 * Check HelloBar library.
 *
 *
 * @return bool
 *   TRUE or FALSE.
 */
function hellobar_library_exist() {
  $directory = libraries_get_path('hellobar-solo');
  return is_file($directory . '/hellobar-solo/hellobar.js');
}
