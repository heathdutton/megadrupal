<?php
/**
 * @file
 * Main module file for Milli Piyango module.
 * Shows Turkish National Lottery results with themeable blocks.
 */

/**
 * Implementation of hook_permission().
 */
function milli_piyango_permission() {
  return array(
    'administer Milli Piyango' => array(
      'title' => t('Administer Milli Piyango'),
      'description' => t('Perform maintenance tasks for Milli Piyango'),
    ),
  );
}

/**
 * Implementation of hook_menu().
 */
function milli_piyango_menu() {
  $items = array();
  $items['admin/config/system/milli_piyango_settings'] = array(
    'title' => 'Milli Piyango Settings',
    'description' => 'Configure Milli Piyango settings.',
    'page callback' => 'drupal_get_form',
    'page arguments' => array('milli_piyango_settings_form'),
    'access callback' => 'user_access',
    'access arguments' => array('administer Milli Piyango'),
  );
  return $items;
}

/**
 * Implementation of hook_block_info().
 */
function milli_piyango_block_info() {
  $blocks[0] = array(
    'info' => t('Sayısal Loto Results'),
  );
  $blocks[1] = array(
    'info' => t('Şans Topu Results'),
  );
  $blocks[2] = array(
    'info' => t('On Numara Results'),
  );
  $blocks[3] = array(
    'info' => t('Süper Loto Results'),
  );
  return $blocks;
}

/**
 * Implementation of hook_block_view().
 */
function milli_piyango_block_view($delta = '') {
  $blocks = array();
  switch ($delta) {
    case 0:
      $blocks = array(
        'subject' => t('Sayısal Loto Results'),
        'content' => milli_piyango_block_1(),
      );
    return $blocks;
    case 1:
      $blocks = array(
        'subject' => t('Şans Topu Results'),
        'content' => milli_piyango_block_2(),
      );
    return $blocks;
    case 2:
      $blocks = array(
        'subject' => t('On Numara Results'),
        'content' => milli_piyango_block_3(),
      );
    return $blocks;
    case 3:
      $blocks = array(
        'subject' => t('Süper Loto Results'),
        'content' => milli_piyango_block_4(),
      );
    return $blocks;
  }
}

/**
 * Milli Piyango settings form.
 */
function milli_piyango_settings_form() {
  $form = array();
  $form['#tree'] = TRUE;
  $settings = _milli_piyango_get_variables();
  $form['milli_piyango_sayisal'] = array(
    '#title' => t('Sayisal Loto Block Settings'),
    '#type'  => 'fieldset',
    '#collapsible' => TRUE,
    '#collapsed' => TRUE,
  );
  $form['milli_piyango_sayisal']['items'] = array(
    '#title' => t('Fields to show'),
    '#type' => 'checkboxes',
    '#default_value' => ($settings['sayisal']['items']) ? $settings['sayisal']['items'] : array(),
    '#description' => t('Check the values you want to show.'),
    '#options' => _milli_piyango_options('sayisal'),
  );
  $form['milli_piyango_sanstopu'] = array(
    '#title' => t('Şans Topu Block Settings'),
    '#type'  => 'fieldset',
    '#collapsible' => TRUE,
    '#collapsed' => TRUE,
  );
  $form['milli_piyango_sanstopu']['items'] = array(
    '#title' => t('Fields to show'),
    '#type' => 'checkboxes',
    '#default_value' => ($settings['sanstopu']['items']) ? $settings['sanstopu']['items'] : array(),
    '#description' => t('Check the values you want to show.'),
    '#options' => _milli_piyango_options('sanstopu'),
  );
  $form['milli_piyango_onnumara'] = array(
    '#title' => t('On Numara Block Settings'),
    '#type'  => 'fieldset',
    '#collapsible' => TRUE,
    '#collapsed' => TRUE,
  );
  $form['milli_piyango_onnumara']['items'] = array(
    '#title' => t('Fields to show'),
    '#type' => 'checkboxes',
    '#default_value' => ($settings['onnumara']['items']) ? $settings['onnumara']['items'] : array(),
    '#description' => t('Check the values you want to show.'),
    '#options' => _milli_piyango_options('onnumara'),
  );
  $form['milli_piyango_superloto'] = array(
    '#title' => t('Süper Loto Block Settings'),
    '#type'  => 'fieldset',
    '#collapsible' => TRUE,
    '#collapsed' => TRUE,
  );
  $form['milli_piyango_superloto']['items'] = array(
    '#title' => t('Fields to show'),
    '#type' => 'checkboxes',
    '#default_value' => ($settings['superloto']['items']) ? $settings['superloto']['items'] : array(),
    '#description' => t('Check the values you want to show.'),
    '#options' => _milli_piyango_options('superloto'),
  );

  return system_settings_form($form);
}

/**
 * Get Milli Piyango Settings in an array
 */
function _milli_piyango_get_variables() {
  $vars = array();
  $vars['sayisal'] = variable_get('milli_piyango_sayisal');
  $vars['sanstopu'] = variable_get('milli_piyango_sanstopu');
  $vars['onnumara'] = variable_get('milli_piyango_onnumara');
  $vars['superloto'] = variable_get('milli_piyango_superloto');

  return $vars;
}

/**
 * Get the XML data.
 * @param $xml
 *   Sets which XML file you want.
 * @return
 *   XML data.
 */
function _milli_piyango_get_xml($xml) {
  $dom = new DomDocument();
  
  switch ($xml) {
    case 1: // Sayisal Loto
      $dom->load('http://cekilis.millipiyango.gov.tr/haftalik_loto_bilgileri.xml');
    break;
    case 2: // Sans Topu
      $dom->load('http://cekilis.millipiyango.gov.tr/haftalik_sanstopu_bilgileri.xml');
    break;
    case 3: // On Numara
      $dom->load('http://cekilis.millipiyango.gov.tr/haftalik_onnumara_bilgileri.xml');
    break;
    case 4: // Super Loto
      $dom->load('http://cekilis.millipiyango.gov.tr/haftalik_super_loto_bilgileri.xml');
    break;
  }

  return $dom;
}

/**
 * Implementation of hook_theme().
 */
function milli_piyango_theme() {
  return array(
    'milli_piyango_block_1' => array(
      'variables' => array('items' => NULL, 'settings' => NULL),
      'template' => 'templates/milli_piyango-block-1',
    ),
    'milli_piyango_block_2' => array(
      'variables' => array('items' => NULL, 'settings' => NULL),
      'template' => 'templates/milli_piyango-block-2',
    ),
    'milli_piyango_block_3' => array(
      'variables' => array('items' => NULL, 'settings' => NULL),
      'template' => 'templates/milli_piyango-block-3',
    ),
    'milli_piyango_block_4' => array(
      'variables' => array('items' => NULL, 'settings' => NULL),
      'template' => 'templates/milli_piyango-block-4',
    ),
  );
}

/**
 * @return
 *   Sayisal Loto Block Content.
 */
function milli_piyango_block_1() {
  $items = _milli_piyango_query(1);
  $settings = variable_get('milli_piyango_sayisal');
  $output = theme('milli_piyango_block_1', array('items' => $items, 'settings' => $settings));

  return $output;
}

/**
 * @return
 *   Sans Topu Block Content.
 */
function milli_piyango_block_2() {
  $items = _milli_piyango_query(2);
  $settings = variable_get('milli_piyango_sanstopu');
  $output = theme('milli_piyango_block_2', array('items' => $items, 'settings' => $settings));

  return $output;
}

/**
 * @return
 *   On Numara Block Content.
 */
function milli_piyango_block_3() {
  $items = _milli_piyango_query(3);
  $settings = variable_get('milli_piyango_onnumara');
  $output = theme('milli_piyango_block_3', array('items' => $items, 'settings' => $settings));

  return $output;
}

/**
 * @return
 *   Super Loto Block Content.
 */
function milli_piyango_block_4() {
  $items = _milli_piyango_query(4);
  $settings = variable_get('milli_piyango_superloto');
  $output = theme('milli_piyango_block_4', array('items' => $items, 'settings' => $settings));

  return $output;
}

/**
 * Get the block items.
 * @param $block
 *   Sets block you want to return.
 * @return
 *   Sayisal Loto Block Content XPath Queries Array.
 */
function _milli_piyango_query($block = 1) {
  $items = array();
  // Get the xml data by argument
  $xml = _milli_piyango_get_xml($block);
  // XPath object
  $mpXPath = new DOMXPath($xml);

  switch ($block) {
    case 1:

      // basic information
      $items['info']['no'] = $mpXPath->query('/dataroot/haftalik_loto_bilgileri[1]/cekilis_no');
      $items['info']['date'] = $mpXPath->query('/dataroot/haftalik_loto_bilgileri[1]/cekilis_tarihi');
      $items['info']['col'] = $mpXPath->query('/dataroot/haftalik_loto_bilgileri[1]/kolon_sayisi');
      $items['info']['rev'] = $mpXPath->query('/dataroot/haftalik_loto_bilgileri[1]/hasilat');
      $items['info']['places'] = $mpXPath->query('/dataroot/haftalik_loto_bilgileri[1]/kazananyerler');

      // winning values
      $items['val']['one'] = $mpXPath->query('/dataroot/haftalik_loto_bilgileri[1]/n_bir');
      $items['val']['two'] = $mpXPath->query('/dataroot/haftalik_loto_bilgileri[1]/n_iki');
      $items['val']['three'] = $mpXPath->query('/dataroot/haftalik_loto_bilgileri[1]/n_uc');
      $items['val']['four'] = $mpXPath->query('/dataroot/haftalik_loto_bilgileri[1]/n_dort');
      $items['val']['five'] = $mpXPath->query('/dataroot/haftalik_loto_bilgileri[1]/n_bes');
      $items['val']['six'] = $mpXPath->query('/dataroot/haftalik_loto_bilgileri[1]/n_alti');

      // winner counts
      $items['winners']['six'] = $mpXPath->query('/dataroot/haftalik_loto_bilgileri[1]/Alti_bilen');
      $items['winners']['five'] = $mpXPath->query('/dataroot/haftalik_loto_bilgileri[1]/Bes_bilen');
      $items['winners']['four'] = $mpXPath->query('/dataroot/haftalik_loto_bilgileri[1]/Dort_bilen');
      $items['winners']['three'] = $mpXPath->query('/dataroot/haftalik_loto_bilgileri[1]/Uc_bilen');

      // bonuses
      $items['bonus']['six'] = $mpXPath->query('/dataroot/haftalik_loto_bilgileri[1]/alti_ikramiye');
      $items['bonus']['five'] = $mpXPath->query('/dataroot/haftalik_loto_bilgileri[1]/bes_ikramiye');
      $items['bonus']['four'] = $mpXPath->query('/dataroot/haftalik_loto_bilgileri[1]/dort_ikramiye');
      $items['bonus']['three'] = $mpXPath->query('/dataroot/haftalik_loto_bilgileri[1]/uc_ikramiye');

    break;
    case 2:

      // basic information
      $items['info']['no'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/Hafta');
      $items['info']['date'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/Tarih');
      $items['info']['col'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/kolon_sayisi');
      $items['info']['rev'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/hasilat');
      $items['info']['places'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/kazananyerler');

      // winning values
      $items['val']['one'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/n_bir');
      $items['val']['two'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/n_iki');
      $items['val']['three'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/n_uc');
      $items['val']['four'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/n_dort');
      $items['val']['five'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/n_bes');
      $items['val']['plusone'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/n_arti_bir');

      // winner counts
      $items['winners']['fiveplusone'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/bes_arti_bir_bilen');
      $items['winners']['five'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/bes_bilen');
      $items['winners']['fourplusone'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/dort_arti_bir_bilen');
      $items['winners']['four'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/dort_bilen');
      $items['winners']['threeplusone'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/uc_arti_bir_bilen');
      $items['winners']['three'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/uc_bilen');
      $items['winners']['twoplusone'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/iki_arti_bir_bilen');
      $items['winners']['oneplusone'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/bir_arti_bir_bilen');

      // bonuses
      $items['bonus']['fiveplusone'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/ikramiye_bes_arti_bir');
      $items['bonus']['five'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/ikramiye_bes');
      $items['bonus']['fourplusone'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/ikramiye_dort_arti_bir');
      $items['bonus']['four'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/ikramiye_dort');
      $items['bonus']['threeplusone'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/ikramiye_uc_arti_bir');
      $items['bonus']['three'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/ikramiye_uc');
      $items['bonus']['twoplusone'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/ikramiye_iki_arti_bir');
      $items['bonus']['oneplusone'] = $mpXPath->query('/dataroot/haftalik_sanstopu_bilgileri[1]/ikramiye_bir_arti_bir');

    break;
    case 3:

      // basic information
      $items['info']['no'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/hafta');
      $items['info']['date'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/tarih');
      $items['info']['col'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/kolon_sayisi');
      $items['info']['rev'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/hasilat');
      $items['info']['places'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/kazananyerler');

      // winning values
      $items['val']['one'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_bir');
      $items['val']['two'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_iki');
      $items['val']['three'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_uc');
      $items['val']['four'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_dort');
      $items['val']['five'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_bes');
      $items['val']['six'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_alti');
      $items['val']['seven'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_yedi');
      $items['val']['eight'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_sekiz');
      $items['val']['nine'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_dokuz');
      $items['val']['ten'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_on');
      $items['val']['eleven'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_onbir');
      $items['val']['twelve'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_oniki');
      $items['val']['thirteen'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_onuc');
      $items['val']['fourteen'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_ondort');
      $items['val']['fifteen'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_onbes');
      $items['val']['sixteen'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_onalti');
      $items['val']['seventeen'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_onyedi');
      $items['val']['eighteen'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_onsekiz');
      $items['val']['nineteen'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_ondokuz');
      $items['val']['twenty'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_yirmi');
      $items['val']['twentyone'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_yirmibir');
      $items['val']['twentytwo'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/n_yirmiki');

      // winner counts
      $items['winners']['ten'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/on_bilen');
      $items['winners']['nine'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/dokuz_bilen');
      $items['winners']['eight'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/sekiz_bilen');
      $items['winners']['seven'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/yedi_bilen');
      $items['winners']['six'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/alti_bilen');
      $items['winners']['none'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/sifir_bilen');

      // bonuses
      $items['bonus']['ten'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/on_ikramiye');
      $items['bonus']['nine'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/dokuz_ikramiye');
      $items['bonus']['eight'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/sekiz_ikramiye');
      $items['bonus']['seven'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/yedi_ikramiye');
      $items['bonus']['six'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/alti_ikramiye');
      $items['bonus']['none'] = $mpXPath->query('/dataroot/haftalik_onnumara_bilgileri[1]/sifir_ikramiye');

    break;
    case 4:

      // basic information
      $items['info']['no'] = $mpXPath->query('/dataroot/haftalik_super_loto_bilgileri[1]/cekilis_no');
      $items['info']['date'] = $mpXPath->query('/dataroot/haftalik_super_loto_bilgileri[1]/cekilis_tarihi');
      $items['info']['col'] = $mpXPath->query('/dataroot/haftalik_super_loto_bilgileri[1]/kolon_sayisi');
      $items['info']['rev'] = $mpXPath->query('/dataroot/haftalik_super_loto_bilgileri[1]/hasilat');
      $items['info']['places'] = $mpXPath->query('/dataroot/haftalik_super_loto_bilgileri[1]/kazananyerler');

      // winning values
      $items['val']['one'] = $mpXPath->query('/dataroot/haftalik_super_loto_bilgileri[1]/n_bir');
      $items['val']['two'] = $mpXPath->query('/dataroot/haftalik_super_loto_bilgileri[1]/n_iki');
      $items['val']['three'] = $mpXPath->query('/dataroot/haftalik_super_loto_bilgileri[1]/n_uc');
      $items['val']['four'] = $mpXPath->query('/dataroot/haftalik_super_loto_bilgileri[1]/n_dort');
      $items['val']['five'] = $mpXPath->query('/dataroot/haftalik_super_loto_bilgileri[1]/n_bes');
      $items['val']['six'] = $mpXPath->query('/dataroot/haftalik_super_loto_bilgileri[1]/n_alti');

      // winner counts
      $items['winners']['six'] = $mpXPath->query('/dataroot/haftalik_super_loto_bilgileri[1]/Alti_bilen');
      $items['winners']['five'] = $mpXPath->query('/dataroot/haftalik_super_loto_bilgileri[1]/Bes_bilen');
      $items['winners']['four'] = $mpXPath->query('/dataroot/haftalik_super_loto_bilgileri[1]/Dort_bilen');
      $items['winners']['three'] = $mpXPath->query('/dataroot/haftalik_super_loto_bilgileri[1]/Uc_bilen');

      // bonuses
      $items['bonus']['six'] = $mpXPath->query('/dataroot/haftalik_super_loto_bilgileri[1]/alti_ikramiye');
      $items['bonus']['five'] = $mpXPath->query('/dataroot/haftalik_super_loto_bilgileri[1]/bes_ikramiye');
      $items['bonus']['four'] = $mpXPath->query('/dataroot/haftalik_super_loto_bilgileri[1]/dort_ikramiye');
      $items['bonus']['three'] = $mpXPath->query('/dataroot/haftalik_super_loto_bilgileri[1]/uc_ikramiye');

    break;
  }

  return $items;
}

/**
 * Get options.
 * @param $type
 *   Sets block you want to return.
 * @return
 *   Sayisal Loto Block Options Array.
 */
function _milli_piyango_options($type) {
  switch ($type) {
    case 'sayisal':
      $options = array(
        'val' => t('Winning Values'),
        'no' => t('Drawing Number'),
        'date' => t('Drawing Date'),
        'col' => t('Column Count'),
        'rev' => t('Revenue'),
        'places' => t('Winning Places'),
        'w_six' => t('Score 6/6'),
        'w_five' => t('Score 5/6'),
        'w_four' => t('Score 4/6'),
        'w_three' => t('Score 3/6'),
        'b_six' => t('6/6 Bonus'),
        'b_five' => t('5/6 Bonus'),
        'b_four' => t('4/6 Bonus'),
        'b_three' => t('3/6 Bonus'),
      );
    break;
    case 'sanstopu':
      $options = array(
        'val' => t('Winning Values'),
        'no' => t('Drawing Number'),
        'date' => t('Drawing Date'),
        'col' => t('Column Count'),
        'rev' => t('Revenue'),
        'places' => t('Winning Places'),
        'w_fiveplusone' => t('Score 5+1'),
        'w_five' => t('Score 5'),
        'w_fourplusone' => t('Score 4+1'),
        'w_four' => t('Score 4'),
        'w_threeplusone' => t('Score 3+1'),
        'w_three' => t('Score 3'),
        'w_twoplusone' => t('Score 2+1'),
        'w_oneplusone' => t('Score 1+1'),
        'b_fiveplusone' => t('5+1 Bonus'),
        'b_five' => t('5 Bonus'),
        'b_fourplusone' => t('4+1 Bonus'),
        'b_four' => t('4 Bonus'),
        'b_threeplusone' => t('3+1 Bonus'),
        'b_three' => t('3 Bonus'),
        'b_twoplusone' => t('2+1 Bonus'),
        'b_oneplusone' => t('1+1 Bonus'),
      );
    break;
    case 'onnumara':
      $options = array(
        'val' => t('Winning Values'),
        'no' => t('Drawing Number'),
        'date' => t('Drawing Date'),
        'col' => t('Column Count'),
        'rev' => t('Revenue'),
        'places' => t('Winning Places'),
        'w_ten' => t('Score 10'),
        'w_nine' => t('Score 9'),
        'w_eight' => t('Score 8'),
        'w_seven' => t('Score 7'),
        'w_six' => t('Score 6'),
        'w_none' => t('Score 0'),
        'b_ten' => t('10 Bonus'),
        'b_nine' => t('9 Bonus'),
        'b_eight' => t('8 Bonus'),
        'b_seven' => t('7 Bonus'),
        'b_six' => t('6 Bonus'),
        'b_none' => t('0 Bonus'),
      );
    break;
    case 'superloto':
      $options = array(
        'val' => t('Winning Values'),
        'no' => t('Drawing Number'),
        'date' => t('Drawing Date'),
        'col' => t('Column Count'),
        'rev' => t('Revenue'),
        'places' => t('Winning Places'),
        'w_six' => t('Score 6'),
        'w_five' => t('Score 5'),
        'w_four' => t('Score 4'),
        'w_three' => t('Score 3'),
        'b_six' => t('6 Bonus'),
        'b_five' => t('5 Bonus'),
        'b_four' => t('4 Bonus'),
        'b_three' => t('3 Bonus'),
      );
    break;
  }

  return $options;
}

/**
 * Translate Turkish dates to english and convert them to valid date values.
 * @param $date
 *   Turkish date string.
 * @return
 *   Formatted date string.
 */
function _milli_piyango_date($date) {
  $search = array('OCAK', 'ŞUBAT', 'MART', 'NİSAN', 'MAYIS', 'HAZİRAN', 'TEMMUZ', 'AĞUSTOS', 'EYLÜL', 'EKIM', 'KASIM', 'ARALIK');
  $replace = array('January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December');
  $string = str_replace($search, $replace, $date);

  $output = format_date(strtotime($string), $type = 'custom', $format = 'd.m.Y', $timezone = NULL, $langcode = NULL);

  return $output;
}