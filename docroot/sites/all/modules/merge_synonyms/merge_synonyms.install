<?php

/**
 * @file
 * Merge synonyms install file.
 */

/**
 * Implements hook_enable().
 */
function merge_synonyms_enable() {
  // Create field and add instances to all vocabularies.
  // Check if field is not already created.
  if (!field_info_field('field_term_merge_synonyms')) {
    $field = array(
      'field_name' => 'field_term_merge_synonyms',
      'type' => 'text_long',
      'label' => t('Synonyms'),
    );
    field_create_field($field);
  }

  // Get all vocabularies.
  $vocabularies = taxonomy_get_vocabularies();

  // Creating field instances for existing vocabularies.
  foreach ($vocabularies as $vocabulary) {
    _merge_synonyms_field_instance($vocabulary->machine_name);
  }
}

/**
 * Implements hook_uninstall().
 */
function merge_synonyms_uninstall() {
  // Delete field and instances.
  field_delete_field('field_term_merge_synonyms');
}
