<?php
/**
 * @file
 * Installation and cleanup procedures.
 */

/**
 * Implements hook_uninstall().
 */
function logo_doodle_uninstall() {
  variable_del('logo_doodle_birthday_filename');
  variable_del('logo_doodle_birthday_field');
  variable_del('logo_doodle_image_style');

  $query = new EntityFieldQuery();
  $result = $query
    ->entityCondition('entity_type', 'node')
    ->entityCondition('bundle', 'logo_doodle')
    ->execute();
  if (is_array($result['node'])) {
    node_delete_multiple(array_keys($result['node']));
  }

  node_type_delete('logo_doodle');
  drupal_flush_all_caches();
}
