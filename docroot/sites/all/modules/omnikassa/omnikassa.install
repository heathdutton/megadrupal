<?php
/**
 * @file
 * (Un)Installscripts for Rabobank OmniKassa
 */

 /**
  * Implements hook_enable().
  * 
  * Set variables for testmode if possible.
  */
function omnikassa_enable() {
  if (variable_get('omnikassa_mode', '1') == '1') {
    variable_set('omnikassa_merchant_id', OMNIKASSA_TEST_MERCHANT_ID);
    variable_set('omnikassa_secret_key', OMNIKASSA_TEST_SECRET_KEY);
    variable_set('omnikassa_key_version', OMNIKASSA_TEST_KEY_VERSION);
    variable_set('omnikassa_reference', 'TEST');
    variable_set('omnikassa_mode', '1');
  }
}

 /**
  * Implements hook_uninstall().
  * 
  * Remove variables.
  */
function omnikassa_uninstall() {
  variable_del('omnikassa_merchant_id');
  variable_del('omnikassa_secret_key');
  variable_del('omnikassa_key_version');
  variable_del('omnikassa_reference');
  variable_del('omnikassa_mode');
}
