

Bugs from uc_node_access that need fixing:
- http://drupal.org/node/1291572 Expiration Date occurs prior to expected time
- http://drupal.org/node/364436  Remove expirations for deleted users (on the surface looks like a duplicate of [#1057330], but the symptoms and cure are different)
- http://drupal.org/node/551340  ONLY works if the purchaser already has an account
- http://drupal.org/node/1073396 Avoid error of granting access to granting node (exclude the product from autocomplete list, also check upon product feature validation)
- http://drupal.org/node/456712  Integration with Views (http://drupal.org/files/issues/uc_node_access_views.patch)
- http://drupal.org/node/976978  Add hook_nodeapi() to bring in feature data to $node object (http://drupal.org/files/issues/uc_node_access.nodeapi.patch)
- http://drupal.org/node/426314  Renewal action just like in uc_file or uc_role (http://drupal.org/files/issues/uc_node_access.patch)
- http://drupal.org/node/931508  Add "shippable" checkbox to product feature settings (http://drupal.org/files/issues/uc_node_access-shippable.patch)
- http://drupal.org/node/452200  Patch for creating node token and email action (http://drupal.org/files/issues/uc_node_access.txt)


New Features (not implemented in uc_cck_access):
- http://drupal.org/node/765154 grant access by Taxonomy (http://drupal.org/files/issues/765154.uc_node_access_tac_lite.patch)


Features that need fixing:

// FIXME: FEATURE expirations history (new table, copy expired items to it, also track inceptions through expirations into old list), UI (show expired items on user/admin list)
// FIXME: FEATURE link to the order that granted access to the user on admin/user content list pages (need to track order through the database)
// FIXME: After purchase, show a link to the purchased content

uc_cck_access.module
// FIXME: DEBUGGING Test only, remove in final version: UCCA_DEBUG
// FIXME: FEATURE implement confirmation step for something destructive (like admin revoking access), see http://drupal.org/node/470834
// FIXME: FEATURE make the table sortable and with pager (see e.g. pager_query() us in uc_order) in uc_cck_access_user_content_orders_form()
// FIXME: PERFORMANCE move admin functions and forms to .admin.inc file (both uc_cck_access.module & uc_cck_access_acl.module)

uc_cck_access_acl.module
// FIXME: DESIGN AHAH - a better method than nested ifs? to determine what is the $subform in the $form tree


Universal Access API
// FIXME: DESIGN $op throughout is hard-coded to 'view' - 1. should have API to allow other op's, 2. may need to be fields-specific where applicable (for allowing to sell different fields on the same node in different products (like HD video vs. SD video)
// FIXME: DESIGN some dependencies on uc_cck_access (e.g. expirations) hard to remove
// FIXME: DESIGN Good API provides return values for good error handling. Implement reasonable return values from the API.


