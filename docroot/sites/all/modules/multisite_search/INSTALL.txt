INSTALLATION INSTRUCTIONS

1. Copy the multisite_search folder to sites/all/modules.

2. Set up table prefixing as explained in README.txt.

3. If you are installing this module for the FIRST time, skip this step.
   If you are installing this module for the SECOND time, or upgrading an existing Drupal 6 installation:
   
   Temporarily DISABLE table sharing.
   
   If you are already sharing tables, comment out the table prefixes in your settings.php file.
   
   For example, if your prefix array looks like this:
   
   'prefix' => array(
      'default' => 'local_',
      'multisite_search_dataset'  => 'shared_db.',
    	'multisite_search_index'    => 'shared_db.',
    	'multisite_search_sites'    => 'shared_db.',
    	'multisite_search_total'    => 'shared_db.',
    	'multisite_search_settings' => 'shared_db.',
    ),
    
    Temporarily change it to this:
    
    'prefix' => array(
      'default' => 'local_',
      //'multisite_search_dataset'  => 'shared_db.',
    	//'multisite_search_index'    => 'shared_db.',
    	//'multisite_search_sites'    => 'shared_db.',
    	//'multisite_search_total'    => 'shared_db.',
    	//'multisite_search_settings' => 'shared_db.',
    ),
    
    NOTE: If you do not do step 3 on the second (and further) sites, you will get database errors.
          because the tables have already been installed. If that happens, visit
          admin/config/development/performance and click "Clear all caches".

4. Visit admin/modules and enable the Multisite Search module.

5. If you did step 3, turn RE-ENABLE table sharing. (Un-comment the prefix values in settings.php)

6. Visit admin/config/search/settings and under "Active Search Modules" enable "Multisite Search".
   
   Note: You can also set Multisite Search to be the default search.

7. Repeat for all sites in the Multisite installation.

Once all the sites have been enabled:

8. Visit admin/config/search/multisite-search and add each site and it's configuration.
   (See "Table Prefixing" in README.txt)

9. Set configuration options at admin/config/search/multisite-search/settings .
   (See "Configuration Settings" in README.txt)
   
10. Re-build the search index for every site by visiting admin/config/search/settings and clicking
    "Re-index site".

11. Run cron on all sites. You will need to run it more than once; first time, to rebuild core search
    index; second time, to copy core search index to multisite search index.

Confirm the index is working by visiting search/multisite_search and running a test search.