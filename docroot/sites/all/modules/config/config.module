<?php

/**
 * @file
 * Main config module file
 *
 * @license GPL v2 http://www.fsf.org/licensing/licenses/gpl.html
 * @author Chris Skene chris at xtfer dot com
 * @copyright Copyright(c) 2015 Christopher Skene
 */

define('CONFIG_PERM_ADMIN', 'administer_config');

define('CONFIG_API_VERSION', '1');

define('CONFIG_PARSER_PHP', 'php');
define('CONFIG_PARSER_JSON', 'json');

define('CONFIG_DEFAULT_PARSER', CONFIG_PARSER_JSON);

/**
 * Implements hook_config_parsers().
 */
function config_config_parsers() {

  return array(
    CONFIG_PARSER_PHP => array(
      'name' => t('PHP'),
      'class' => '\Drupal\config\Parser\PhpParser',
      'extension' => 'php',
    ),
    CONFIG_PARSER_JSON => array(
      'name' => t('JSON'),
      'class' => '\Drupal\config\Parser\JsonParser',
      'extension' => 'json',
    ),
  );
}

/**
 * Implements hook_permission().
 */
function config_permission() {
  return array(
    CONFIG_PERM_ADMIN => array(
      'title' => t('Administer Configuration'),
      'restrict access' => TRUE,
    ),
  );
}
