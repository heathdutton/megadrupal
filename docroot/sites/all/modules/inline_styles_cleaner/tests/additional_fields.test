<?php

/**
 * @file
 * Additional fields test.
 */

/**
 * Class AdditionalFieldsTestCase.
 */
class AdditionalFieldsWebTestCase extends InlineStylesCleanerWebTestCase {
  /**
   * Standard simpletest function.
   *
   * @return array
   *   Array with test info.
   */
  public static function getInfo() {
    return array(
      'name' => 'Additional fields',
      'description' => 'Check if additional fields are exists on config page',
      'group' => 'Inline Styles Cleaner',
    );
  }

  /**
   * Check additional fields.
   *
   * Check f "body", "comment_body", "field_text_field"
   * and "field_text_long_field" fields are exists.
   */
  public function testAdditionalFields() {
    $this->drupalGet('admin/config/content/inline-styles-cleaner');
    $this->assertResponse(200, 'Config page is available');
    $this->assertText(t('Field name: @field_name. Field type: @field_type. Appears in: @appears_in', array(
      '@field_name' => 'comment_body',
      '@field_type' => 'text_long',
      '@appears_in' => 'comment:comment_node_page, comment:comment_node_article',
    )), 'Field "comment_body" found.');

    $this->assertText(t('Field name: @field_name. Field type: @field_type. Appears in: @appears_in', array(
      '@field_name' => 'body',
      '@field_type' => 'text_with_summary',
      '@appears_in' => 'node:page, node:article',
    )), 'Field "body" found.');

    $this->assertText(t('Field name: @field_name. Field type: @field_type. Appears in: @appears_in', array(
      '@field_name' => 'field_text_field',
      '@field_type' => 'text',
      '@appears_in' => 'node:page',
    )), 'Field "field_text_field" found.');

    $this->assertText(t('Field name: @field_name. Field type: @field_type. Appears in: @appears_in', array(
      '@field_name' => 'field_text_long_field',
      '@field_type' => 'text_long',
      '@appears_in' => 'node:article',
    )), 'Field "field_text_long_field" found.');
  }
}
