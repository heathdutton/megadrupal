<?php

/**
 * @file
 * No fields instances test.
 */

/**
 * Class NoFieldsInstancesWebTestCase.
 */
class NoFieldsInstancesWebTestCase extends InlineStylesCleanerWebTestCase {
  /**
   * Standard simpletest function.
   *
   * @return array
   *   Array with test info.
   */
  public static function getInfo() {
    return array(
      'name' => 'No fields instances',
      'description' => 'Show warning message if user selected field(s) but there is no instances in database',
      'group' => 'Inline Styles Cleaner',
    );
  }

  /**
   * Check if no fields instances found.
   *
   * Show warning message if user selected field(s)
   *  but there is no instances in database.
   */
  public function testNoFieldsInstances() {
    $edit = array();
    $edit['inline_styles_cleaner_fields_for_clean[comment_body]'] = 'comment_body';

    $this->drupalPost('admin/config/content/inline-styles-cleaner', $edit, t('Start processing'));
    $this->assertText(t('There is now instances of selected field(s) in database.'), 'Message "There is now instances of selected field(s) in database." found.');
  }
}
