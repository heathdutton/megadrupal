<?php

/**
 * @file
 * Installation, update and uninstall hooks for module.
 */

/**
 * Implements hook_uninstall().
 */
function inline_styles_cleaner_uninstall() {
  // Remove generated css file.
  $css_file_settings = variable_get('inline_styles_cleaner_css_file', array());
  if (isset($css_file_settings['fid'])) {
    $file = file_load($css_file_settings['fid']);

    if ($file) {
      file_delete($file);
    }
  }

  // Remove all module's variables.
  array_map('variable_del', array(
    'inline_styles_cleaner_clean_text_field_summary',
    'inline_styles_cleaner_fields_for_clean',
    'inline_styles_cleaner_generate_css',
    'inline_styles_cleaner_class_name',
    'inline_styles_cleaner_old_class_name',
    'inline_styles_cleaner_update_existing_css',
    'inline_styles_cleaner_old_styles',
    'inline_styles_cleaner_css_file',
    'inline_styles_cleaner_automatic_download',
  ));
}
