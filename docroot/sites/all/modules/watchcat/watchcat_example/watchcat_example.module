<?php
/**
 * @file
 * Main file for watchcat_example module.
 */

/**
 * Implements hook_watchcat_verbs() on behalf of user.module.
 */
function user_watchcat_verbs() {
  $verbs = array();

  $verbs['login'] = array(
    'title' => 'User [actor:name] logged in.',
    'summary' => 'User [actor:name] logged in.',
    'actor' => 'user',
  );

  $verbs['logout'] = array(
    'title' => 'User [actor:name] logged out.',
    'summary' => 'User [actor:name] logged out.',
    'actor' => 'user',
  );

  return $verbs;
}

/**
 * Implements hook_watchcat_verbs() on behalf of node.module.
 */
function node_watchcat_verbs() {
  $verbs = array();

  $verbs['insert'] = array(
    'title' => 'User [actor:name] added a new node with nid [object:nid].',
    'summary' => 'User [actor:name] added a new node with nid [object:nid].',
    'actor' => 'user',
    'object' => 'node',
  );

  $verbs['update'] = array(
    'title' => 'User [actor:name] updated the node with nid [object:nid].',
    'summary' => 'User [actor:name] updated the node with nid [object:nid].',
    'actor' => 'user',
    'object' => 'node',
  );

  $verbs['delete'] = array(
    'title' => 'User [actor:name] deleted the node with nid [object:nid].',
    'summary' => 'User [actor:name] deleted the node with nid [object:nid].',
    'actor' => 'user',
    'object' => 'node',
  );

  return $verbs;
}

/**
 * Implements hook_user_login().
 */
function watchcat_example_user_login(&$edit, $account) {
  watchcat($account, 'user:login');
}

/**
 * Implements hook_user_logout().
 */
function watchcat_example_user_logout($account) {
  watchcat($account, 'user:logout');
}

/**
 * Implements hook_node_insert().
 */
function watchcat_example_node_insert($node) {
  global $user;
  watchcat($user, 'node:insert', $node);
}

/**
 * Implements hook_node_update().
 */
function watchcat_example_node_update($node) {
  global $user;
  watchcat($user, 'node:update', $node);
}

/**
 * Implements hook_node_delete().
 */
function watchcat_example_node_delete($node) {
  global $user;
  watchcat($user, 'node:delete', $node);
}