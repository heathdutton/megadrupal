<?php


/**
 *
 * Implementation hook help
 *
 */

function mouseflow_help($path, $arg) {

  if($path == 'admin/help#mouseflow') {
    $output = '<p>'. t('You mas have an acount in http://www.mouseflow.com befero use this module') .'</p>';
    $output = '<p>'. t('One you have the acount please copy mouseflow\'s code to drupal\'s mouseflow settings form') .'</p>';
    return $output;
  }
}


/**
 *
 * Implementation hook perm
 *
 */
function mouseflow_perm() {
  return array('Configure mouseflow');
}


/**
 *
 * Implementation hook menu
 *
 */
function mouseflow_menu() {

  $items = array();

  $items['admin/settings/mouseflow'] = array(
    'title' => 'Mousefow Settings',
    'description' => 'configure mouseflow options',
    'page callback' => 'drupal_get_form',
    'page arguments' => array('mouseflow_configure_options'),
    'access callback' => 'user_access',
    'access arguments' => array('Configure mouseflow'),
    'type' => MENU_NORMAL_ITEM,
    'file' => 'mouseflow.admin.inc',
  );

  return $items;
}




/**
 *
 * implementation hook init.
 *
 */

function mouseflow_init() {

  //we never record admin pages.
  if(arg(0) != 'admin') {

    //ask for the code.
    $data = variable_get('mouseflow_code', NULL);

    //if we have the code we will print it.
    if($data != NULL) {
      drupal_add_html_head($data);
    }
  }
}
