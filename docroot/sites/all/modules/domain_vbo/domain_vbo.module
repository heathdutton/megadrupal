<?php
/**
 * @file
 * Domain VBO integrations full crud for users and nodes.
 */

/**
 * Implements hook_action_info().
 */
function domain_vbo_action_info() {
  $domain_vbo_actions = array();

  // Domains VBO User actions.
  module_load_include('inc', 'domain_vbo', 'domain_vbo.user');
  $domain_vbo_actions['domain_vbo_modify_user_domains'] = array(
    'type' => 'user',
    'label' => t('Domain VBO: modify user domains'),
    'configurable' => TRUE,
    'triggers' => array('any'),
  );

  // Domains VBO Node actions.
  module_load_include('inc', 'domain_vbo', 'domain_vbo.node');
  $domain_vbo_actions['domain_vbo_modify_node_domains'] = array(
    'type' => 'node',
    'label' => t('Domain VBO: modify node domains'),
    'configurable' => TRUE,
    'triggers' => array('any'),
  );

  return $domain_vbo_actions;
}

/**
 * Helper function that returns active domains in an option list.
 */
function domain_vbo_domains() {
  $domain_option_list = array();
  foreach (domain_domains() as $domain) {
    $domain_option_list[$domain['domain_id']] = $domain['sitename'];
  }
  return $domain_option_list;
}
