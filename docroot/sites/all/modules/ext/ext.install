<?php

/**
 * @file
 * Installation file for Ext module.
 */

/**
 * Implementation of hook_requirements().
 */
function ext_requirements($phase) {
  $requirements = array();
  $t = get_t();

  if ($phase == 'install') {
    // The ext_get_version() function is in the .module file, which isn't
    // loaded yet.
    include_once dirname(__FILE__) . '/ext.module';
  }


  $requirements['ext']['title'] = $t('Ext');
  $check = _ext_check_library();
  if ($check === NULL) {
    // Everything looks good; display the current jQuery UI version.
    $path = ext_get_path();
    $requirements['ext']['value'] = $t("The Ext library is located in <code>@path</code>", array('@path' => $path));
    $requirements['ext']['severity'] = REQUIREMENT_OK;
  }
  else {
    // Required library wasn't found, $check provides instructions.
    $requirements['ext']['value'] = $t('Not found.');
    $requirements['ext']['description'] = $check;
    $requirements['ext']['severity'] = REQUIREMENT_WARNING;
  }

  return $requirements;
}

/**
 * Implementation of hook_uninstall().
 */
function ext_uninstall() {
  variable_del('ext_compression_type');
}
