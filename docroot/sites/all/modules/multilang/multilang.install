<?php
/**
 * @file
 * Multilang module install file.
 */

/*
  TODO: default English language path prefix language to "en".
*/
/* ============================================================ INSTALL HOOKS */
/**
 * Implements hook_install().
 */
function multilang_install() {

  /* No default configuration has to be initially set in variables:
  . when a variable does not exist, get default values from multilang.conf.inc
  . only modifying configuration makes corresponding variables to be set
  */
  
  // Hack Drupal core.
  module_load_include('inc', 'multilang', 'multilang.core');
  if (_multilang_hack_core()) {
    // Send a message after fresh install.
    module_load_include('inc', 'multilang', 'multilang.data');
    drupal_set_message(_multilang_install_data());
  }
}

/**
 * Implements hook_uninstall().
 */
function multilang_uninstall() {
  // Delete all the Multilang variables and clear the variable cache.
  db_query('
DELETE FROM {variable}
WHERE name LIKE "multilang_%"
  ');
  cache_clear_all('variables', 'cache');
}
/* ========================================================================== */
