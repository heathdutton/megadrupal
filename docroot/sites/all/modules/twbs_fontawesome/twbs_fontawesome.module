<?php

/**
 * @file
 * Integrate Drupal with Font Awesome library.
 */

/**
 * Implements hook_help().
 */
function twbs_fontawesome_help($path, $arg) {
  $output = '';

  switch ($path) {
    case 'admin/help#twbs_fontawesome':
      return '<p>' . t('The iconic font designed for Bootstrap') . '</p>';
  }

  return $output;
}

/**
 * Implements hook_init().
 */
function twbs_fontawesome_init() {
  drupal_load('module', 'libraries');

  $libraries = twbs_fontawesome_libraries_info();
  foreach ($libraries as $name => $info) {
    libraries_load($name);
  }
}

/**
 * Implements hook_libraries_info().
 */
function twbs_fontawesome_libraries_info() {
  $libraries['font-awesome'] = array(
    'name' => 'Font Awesome',
    'version' => '4.0.3',
    'vendor url' => 'http://fontawesome.io',
    'download url' => 'http://fontawesome.io/assets/font-awesome-4.0.3.zip',
    'version arguments' => array(
      'file' => 'less/font-awesome.less',
      'pattern' => '/Font Awesome ([0-9a-zA-Z\.-]+)/',
    ),
    'files' => array(
      'css' => array(
        'less/font-awesome.less' => array(
          'every_page' => TRUE,
          'group' => CSS_SYSTEM,
          'weight' => -19,
        ),
      ),
    ),
  );

  return $libraries;
}
