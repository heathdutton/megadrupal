<?php
/**
 * @file
 * Hook implementations and shared functions for the CakeMail Relay module.
 */

/**
 * Implement hook_menu().
 */
function cakemail_relay_menu() {
  return array(
    'admin/config/services/cakemail/relay' => array(
      'title' => 'Relay',
      'description' => 'Administer CakeMail settings',
      'file' => 'cakemail_relay.admin.inc',
      'page callback' => 'drupal_get_form',
      'page arguments' => array('cakemail_relay_settings_page'),
      'access arguments' => array('administer cakemail settings'),
      'type' => MENU_LOCAL_TASK,
    ),
  );
}

/**
 * Implements hook_cakemail_relay_template_id_alter() on behalf of the i18n_variable module.
 */
function i18n_variable_cakemail_relay_template_id_alter(&$template_id, $message) {
  if (isset($message['language'])) {
    $template_id = i18n_variable_get('cakemail_relay_template_id', $message['language']->language, NULL);
  }
}