/*
 html2canvas v0.34 <http://html2canvas.hertzen.com>
 Copyright (c) 2011 Niklas von Hertzen. All rights reserved.
 http://www.twitter.com/niklasvh

 Released under MIT License
*/
(function(u,B,n){function D(c){j.logging&&u.console&&u.console.log&&u.console.log(c)}function T(c,i){var f=[];return{storage:f,width:c,height:i,fillRect:function(){f.push({type:"function",name:"fillRect",arguments:arguments})},drawShape:function(){var a=[];f.push({type:"function",name:"drawShape",arguments:a});return{moveTo:function(){a.push({name:"moveTo",arguments:arguments})},lineTo:function(){a.push({name:"lineTo",arguments:arguments})},bezierCurveTo:function(){a.push({name:"bezierCurveTo",arguments:arguments})},
quadraticCurveTo:function(){a.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){f.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){f.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(a,c){f.push({type:"variable",name:a,arguments:c})}}}var j={},S,L;j.Util={};j.Util.backgroundImage=function(c){if(/data:image\/.*;base64,/i.test(c)||/^(-webkit|-moz|linear-gradient|-o-)/.test(c))return c;c.toLowerCase().substr(0,
5)==='url("'?(c=c.substr(5),c=c.substr(0,c.length-2)):(c=c.substr(4),c=c.substr(0,c.length-1));return c};j.Util.Bounds=function(c){var i={};if(c.getBoundingClientRect)return c=c.getBoundingClientRect(),i.top=c.top,i.bottom=c.bottom||c.top+c.height,i.left=c.left,i.width=c.width||c.right-c.left,i.height=c.height||c.bottom-c.top,i};j.Util.getCSS=function(c,i){function f(a,b){var i=c.runtimeStyle&&c.runtimeStyle[a],d,g=c.style;if(!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(b)&&/^-?\d/.test(b)){d=g.left;if(i)c.runtimeStyle.left=
c.currentStyle.left;g.left=a==="fontSize"?"1em":b||0;b=g.pixelLeft+"px";g.left=d;if(i)c.runtimeStyle.left=i}return!/^(thin|medium|thick)$/i.test(b)?Math.round(parseFloat(b))+"px":b}var a;if(u.getComputedStyle)void 0!==c&&(S=B.defaultView.getComputedStyle(c,null)),a=S[i],i==="backgroundPosition"?(a=(a.split(",")[0]||"0 0").split(" "),a[0]=a[0].indexOf("%")===-1?f(i+"X",a[0]):a[0],a[1]=a[1]===n?a[0]:a[1],a[1]=a[1].indexOf("%")===-1?f(i+"Y",a[1]):a[1]):/border(Top|Bottom)(Left|Right)Radius/.test(i)&&
(a=a.split(" "),a.length<=1&&(a[1]=a[0]),a[0]=parseInt(a[0],10),a[1]=parseInt(a[1],10));else if(c.currentStyle)if(i==="backgroundPosition")a=[f(i+"X",c.currentStyle[i+"X"]),f(i+"Y",c.currentStyle[i+"Y"])];else if(a=f(i,c.currentStyle[i]),/^(border)/i.test(i)&&/^(medium|thin|thick)$/i.test(a))switch(a){case "thin":a="1px";break;case "medium":a="0px";break;case "thick":a="5px"}return a};j.Util.BackgroundPosition=function(c,i,f){var c=j.Util.getCSS(c,"backgroundPosition"),a,e;c.length===1&&(a=c,c=[],
c[0]=a,c[1]=a);c[0].toString().indexOf("%")!==-1?(e=parseFloat(c[0])/100,a=i.width*e-f.width*e):a=parseInt(c[0],10);c[1].toString().indexOf("%")!==-1?(e=parseFloat(c[1])/100,i=i.height*e-f.height*e):i=parseInt(c[1],10);return{top:i,left:a}};j.Util.Extend=function(c,i){for(var f in c)c.hasOwnProperty(f)&&(i[f]=c[f]);return i};j.Util.Children=function(c){var i;try{i=c.nodeName&&c.nodeName.toUpperCase()==="IFRAME"?c.contentDocument||c.contentWindow.document:function(a){var c=[];a!==null&&function(a,
c){var e=a.length,i=0;if(typeof c.length==="number")for(var f=c.length;i<f;i++)a[e++]=c[i];else for(;c[i]!==n;)a[e++]=c[i++];a.length=e;return a}(c,a);return c}(c.childNodes)}catch(f){D("html2canvas.Util.Children failed with exception: "+f.message),i=[]}return i};(function(){j.Generate={};var c=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)-]+)\)$/,
/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z-]+)([\w\d\.\s,%\(\)]+)\)$/];j.Generate.parseGradient=function(i,f){var a,e,b=c.length,h,d,g,q;for(e=0;e<b;e+=1)if(h=i.match(c[e]))break;if(h)switch(h[1]){case "-webkit-linear-gradient":case "-o-linear-gradient":a=
{type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]};if(b=h[2].match(/\w+/g)){d=b.length;for(e=0;e<d;e+=1)switch(b[e]){case "top":a.y0=0;a.y1=f.height;break;case "right":a.x0=f.width;a.x1=0;break;case "bottom":a.y0=f.height;a.y1=0;break;case "left":a.x0=0,a.x1=f.width}}if(a.x0===null&&a.x1===null)a.x0=a.x1=f.width/2;if(a.y0===null&&a.y1===null)a.y0=a.y1=f.height/2;if(b=h[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g)){d=b.length;g=1/Math.max(d-
1,1);for(e=0;e<d;e+=1)q=b[e].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),q[2]?(h=parseFloat(q[2]),h/=q[3]==="%"?100:f.width):h=e*g,a.colorStops.push({color:q[1],stop:h})}break;case "-webkit-gradient":a={type:h[2]==="radial"?"circle":h[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]};if(b=h[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/))a.x0=b[1]*f.width/100,a.y0=b[2]*f.height/100,a.x1=b[3]*f.width/100,a.y1=b[4]*f.height/100;if(b=h[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g)){d=
b.length;for(e=0;e<d;e+=1)q=b[e].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),h=parseFloat(q[2]),q[1]==="from"&&(h=0),q[1]==="to"&&(h=1),a.colorStops.push({color:q[3],stop:h})}break;case "-moz-linear-gradient":a={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]};if(b=h[2].match(/(\d{1,3})%?\s(\d{1,3})%?/))a.x0=b[1]*f.width/100,a.y0=b[2]*f.height/100,a.x1=f.width-a.x0,a.y1=f.height-a.y0;if(b=h[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g)){d=
b.length;g=1/Math.max(d-1,1);for(e=0;e<d;e+=1)q=b[e].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),q[2]?(h=parseFloat(q[2]),q[3]&&(h/=100)):h=e*g,a.colorStops.push({color:q[1],stop:h})}break;case "-webkit-radial-gradient":case "-moz-radial-gradient":case "-o-radial-gradient":a={type:"circle",x0:0,y0:0,x1:f.width,y1:f.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]};if(b=h[2].match(/(\d{1,3})%?\s(\d{1,3})%?/))a.cx=b[1]*f.width/100,a.cy=b[2]*f.height/100;b=h[3].match(/\w+/);
q=h[4].match(/[a-z-]*/);if(b&&q)switch(q[0]){case "farthest-corner":case "cover":case "":e=Math.sqrt(Math.pow(a.cx,2)+Math.pow(a.cy,2));b=Math.sqrt(Math.pow(a.cx,2)+Math.pow(a.y1-a.cy,2));d=Math.sqrt(Math.pow(a.x1-a.cx,2)+Math.pow(a.y1-a.cy,2));q=Math.sqrt(Math.pow(a.x1-a.cx,2)+Math.pow(a.cy,2));a.rx=a.ry=Math.max(e,b,d,q);break;case "closest-corner":e=Math.sqrt(Math.pow(a.cx,2)+Math.pow(a.cy,2));b=Math.sqrt(Math.pow(a.cx,2)+Math.pow(a.y1-a.cy,2));d=Math.sqrt(Math.pow(a.x1-a.cx,2)+Math.pow(a.y1-a.cy,
2));q=Math.sqrt(Math.pow(a.x1-a.cx,2)+Math.pow(a.cy,2));a.rx=a.ry=Math.min(e,b,d,q);break;case "farthest-side":b[0]==="circle"?a.rx=a.ry=Math.max(a.cx,a.cy,a.x1-a.cx,a.y1-a.cy):(a.type=b[0],a.rx=Math.max(a.cx,a.x1-a.cx),a.ry=Math.max(a.cy,a.y1-a.cy));break;case "closest-side":case "contain":b[0]==="circle"?a.rx=a.ry=Math.min(a.cx,a.cy,a.x1-a.cx,a.y1-a.cy):(a.type=b[0],a.rx=Math.min(a.cx,a.x1-a.cx),a.ry=Math.min(a.cy,a.y1-a.cy))}if(b=h[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g)){d=
b.length;g=1/Math.max(d-1,1);for(e=0;e<d;e+=1)q=b[e].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),q[2]?(h=parseFloat(q[2]),h/=q[3]==="%"?100:f.width):h=e*g,a.colorStops.push({color:q[1],stop:h})}}return a};j.Generate.Gradient=function(c,f){var a=B.createElement("canvas"),e=a.getContext("2d"),b,h,d,g,q;a.width=f.width;a.height=f.height;b=j.Generate.parseGradient(c,f);q=new Image;if(b)if(b.type==="linear"){h=e.createLinearGradient(b.x0,b.y0,b.x1,b.y1);d=
0;for(g=b.colorStops.length;d<g;d+=1)try{h.addColorStop(b.colorStops[d].stop,b.colorStops[d].color)}catch(u){D(["failed to add color stop: ",u,"; tried to add: ",b.colorStops[d],"; stop: ",d,"; in: ",c])}e.fillStyle=h;e.fillRect(0,0,f.width,f.height);q.src=a.toDataURL()}else if(b.type==="circle"){h=e.createRadialGradient(b.cx,b.cy,0,b.cx,b.cy,b.rx);d=0;for(g=b.colorStops.length;d<g;d+=1)try{h.addColorStop(b.colorStops[d].stop,b.colorStops[d].color)}catch(n){D(["failed to add color stop: ",n,"; tried to add: ",
b.colorStops[d],"; stop: ",d,"; in: ",c])}e.fillStyle=h;e.fillRect(0,0,f.width,f.height);q.src=a.toDataURL()}else if(b.type==="ellipse"){var s=B.createElement("canvas"),v=s.getContext("2d");h=Math.max(b.rx,b.ry);var K=h*2,t;s.width=s.height=K;h=v.createRadialGradient(b.rx,b.ry,0,b.rx,b.ry,h);d=0;for(g=b.colorStops.length;d<g;d+=1)try{h.addColorStop(b.colorStops[d].stop,b.colorStops[d].color)}catch(w){D(["failed to add color stop: ",w,"; tried to add: ",b.colorStops[d],"; stop: ",d,"; in: ",c])}v.fillStyle=
h;v.fillRect(0,0,K,K);e.fillStyle=b.colorStops[d-1].color;e.fillRect(0,0,a.width,a.height);t=new Image;t.onload=function(){e.drawImage(t,b.cx-b.rx,b.cy-b.ry,2*b.rx,2*b.ry);q.src=a.toDataURL()};t.src=s.toDataURL()}return q};j.Generate.ListAlpha=function(c){var f="",a;do a=c%26,f=String.fromCharCode(a+64)+f,c/=26;while(c*26>26);return f};j.Generate.ListRoman=function(c){var f=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],a=[1E3,900,500,400,100,90,50,40,10,9,5,4,1],e="",b,h=f.length;if(c<=
0||c>=4E3)return c;for(b=0;b<h;b+=1)for(;c>=a[b];)c-=a[b],e+=f[b];return e}})();j.Parse=function(c,i){function f(){return{width:Math.max(Math.max(z.body.scrollWidth,z.documentElement.scrollWidth),Math.max(z.body.offsetWidth,z.documentElement.offsetWidth),Math.max(z.body.clientWidth,z.documentElement.clientWidth)),height:Math.max(Math.max(z.body.scrollHeight,z.documentElement.scrollHeight),Math.max(z.body.offsetHeight,z.documentElement.offsetHeight),Math.max(z.body.clientHeight,z.documentElement.clientHeight))}}
function a(a,b){var c=parseInt(y(a,b),10);return isNaN(c)?0:c}function e(a,b,c,e,d,g){g!=="transparent"&&(a.setVariable("fillStyle",g),a.fillRect(b,c,e,d),I+=1)}function b(a,b){switch(b){case "lowercase":return a.toLowerCase();case "capitalize":return a.replace(/(^|\s|:|-|\(|\))([a-z])/g,function(a,b,c){if(a.length>0)return b+c.toUpperCase()});case "uppercase":return a.toUpperCase();default:return a}}function h(a){return a.replace(/^\s*/g,"").replace(/\s*$/g,"")}function d(a,c,d){var d=d.ctx,g=y(a,
"fontFamily"),f=y(a,"fontSize"),q=y(a,"color"),o=y(a,"textDecoration"),H=y(a,"textAlign"),m=y(a,"letterSpacing"),J,C,p=y(a,"fontWeight"),k=y(a,"fontStyle"),l=y(a,"fontVariant"),A=0,r;c.nodeValue=b(c.nodeValue,y(a,"textTransform"));if(h(c.nodeValue).length>0){if(o!=="none")if(x[g+"-"+f]!==n)C=x[g+"-"+f];else{C=z.createElement("div");a=z.createElement("img");r=z.createElement("span");var s;C.style.visibility="hidden";C.style.fontFamily=g;C.style.fontSize=f;C.style.margin=0;C.style.padding=0;N.appendChild(C);
a.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=";a.width=1;a.height=1;a.style.margin=0;a.style.padding=0;a.style.verticalAlign="baseline";r.style.fontFamily=g;r.style.fontSize=f;r.style.margin=0;r.style.padding=0;r.appendChild(z.createTextNode("Hidden Text"));C.appendChild(r);C.appendChild(a);s=a.offsetTop-r.offsetTop+1;C.removeChild(r);C.appendChild(z.createTextNode("Hidden Text"));C.style.lineHeight="normal";a.style.verticalAlign="super";a={baseline:s,lineWidth:1,middle:a.offsetTop-
C.offsetTop+1};x[g+"-"+f]=a;N.removeChild(C);C=a}H=H.replace(["-webkit-auto"],["auto"]);H=i.letterRendering===!1&&/^(left|right|justify|auto)$/.test(H)&&/^(normal|none)$/.test(m)?c.nodeValue.split(/(\b| )/):c.nodeValue.split("");switch(parseInt(p,10)){case 401:p="bold";break;case 400:p="normal"}d.setVariable("fillStyle",q);d.setVariable("font",k+" "+l+" "+p+" "+f+" "+g);d.setVariable("textAlign","left");f=c;p=0;for(g=H.length;p<g;p+=1){k=null;if(w.rangeBounds){if(o!=="none"||h(H[p]).length!==0)k=
H[p],z.createRange?(J=z.createRange(),J.setStart(c,A),J.setEnd(c,A+k.length)):J=N.createTextRange(),J=J.getBoundingClientRect()?J.getBoundingClientRect():{}}else{if(typeof f.nodeValue!=="string")continue;l=f.splitText(H[p].length);m=f.parentNode;a=z.createElement("wrapper");r=f.cloneNode(!0);a.appendChild(f.cloneNode(!0));m.replaceChild(a,f);J=j.Util.Bounds(a);k=f.nodeValue;f=l;m.replaceChild(r,a)}if(k!==null)l=J.left,m=J.bottom,a=d,h(k).length>0&&(a.fillText(k,l,m),I+=1);switch(o){case "underline":e(d,
J.left,Math.round(J.top+C.baseline+C.lineWidth),J.width,1,q);break;case "overline":e(d,J.left,J.top,J.width,1,q);break;case "line-through":e(d,J.left,Math.ceil(J.top+C.middle+C.lineWidth),J.width,1,q)}A+=H[p].length}}}function g(a){return(a=c[a])&&a.succeeded===!0?a.img:!1}function q(a,b){var c=Math.max(a.left,b.left),d=Math.max(a.top,b.top);return{left:c,top:d,width:Math.min(a.left+a.width,b.left+b.width)-c,height:Math.min(a.top+a.height,b.top+b.height)-d}}function P(b,c,d,e){var g=d.left,f=d.top,
i=d.width,d=d.height,h,m,o,w,p,k,l,j=function(b){var c=[],d=["Top","Right","Bottom","Left"],e;for(e=0;e<4;e+=1)c.push({width:a(b,"border"+d[e]+"Width"),color:y(b,"border"+d[e]+"Color")});return c}(b);(function(a){var b=[],c=["TopLeft","TopRight","BottomRight","BottomLeft"],d;for(d=0;d<4;d+=1)b.push(y(a,"border"+c[d]+"Radius"));return b})(b);for(b=0;b<4;b+=1)if(h=j[b],l=[],h.width>0){m=g;o=f;w=i;p=d-j[2].width;switch(b){case 0:p=j[0].width;k=0;l[k++]=["line",m,o];l[k++]=["line",m+w,o];l[k++]=["line",
m+w-j[1].width,o+p];l[k++]=["line",m+j[3].width,o+p];break;case 1:m=g+i-j[1].width;w=j[1].width;k=0;l[k++]=["line",m,o+j[0].width];l[k++]=["line",m+w,o];l[k++]=["line",m+w,o+p+j[2].width];l[k++]=["line",m,o+p];break;case 2:o=o+d-j[2].width;p=j[2].width;k=0;l[k++]=["line",m+j[3].width,o];l[k++]=["line",m+w-j[2].width,o];l[k++]=["line",m+w,o+p];l[k++]=["line",m,o+p];break;case 3:w=j[3].width,k=0,l[k++]=["line",m,o],l[k++]=["line",m+w,o+j[0].width],l[k++]=["line",m+w,o+p],l[k++]=["line",m,o+p+j[2].width]}k=
{left:m,top:o,width:w,height:p};e&&(k=q(k,e));if(k.width>0&&k.height>0&&h.color!=="transparent"){c.setVariable("fillStyle",h.color);h=c.drawShape();m=l.length;for(k=0;k<m;k++)h[k===0?"moveTo":l[k][0]+"To"].apply(null,l[k].slice(1));I+=1}}return j}function O(a,b,c){var e=z.createElement("valuewrap"),g=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"],f,i,h;f=0;for(i=g.length;f<i;f+=1){h=g[f];try{e.style[h]=
y(a,h)}catch(o){D("html2canvas: Parse: Exception caught in renderFormValue: "+o.message)}}e.style.borderColor="black";e.style.borderStyle="solid";e.style.display="block";e.style.position="absolute";if(/^(submit|reset|button|text|password)$/.test(a.type)||a.nodeName==="SELECT")e.style.lineHeight=y(a,"height");e.style.top=b.top+"px";e.style.left=b.left+"px";b=z.createTextNode(a.nodeName==="SELECT"?a.options[a.selectedIndex].text:a.value);e.appendChild(b);N.appendChild(e);d(a,b,c);N.removeChild(e)}function s(a,
b,c,e,d,f,g,i){var h=0,o=0;g-c>0&&(h=g-c);i-e>0&&(o=i-e);a.drawImage(b,h,o,d-h,f-o,c+h,e+o,d-h,f-o);I+=1}function v(a,b,c,e,d,f,g){var g=Math.min(b.height,g),i,h;c.left-=Math.ceil(c.left/b.width)*b.width;for(h=e+c.left;h<f+e;)i=Math.floor(h+b.width)>f+e?f+e-h:b.width,s(a,b,h,d+c.top,i,g,e,d),h=Math.floor(h+b.width)}function K(b,c){var d=j.Util.Bounds(b),o=d.left,w=d.top,x=d.width,E=d.height,H,m=y(b,"backgroundColor"),u=y(b,"position"),C,p=y(b,"opacity"),k,l;c?L={}:(L=f(),c={opacity:1});l=y(b,"zIndex");
(C=c.zIndex)?l!=="auto"&&(l={zindex:l,children:[]},C.children.push(l),C=l):C=l={zindex:0,children:[]};k={ctx:T(L.width||x,L.height||E),zIndex:C,opacity:p*c.opacity,cssPosition:u};if(c.clip)k.clip=j.Util.Extend({},c.clip);if(i.useOverflow===!0&&/(hidden|scroll|auto)/.test(y(b,"overflow"))===!0&&/(BODY)/i.test(b.nodeName)===!1)k.clip=k.clip?q(k.clip,d):d;u=C.children.push(k);l=C.children[u-1].ctx;l.setVariable("globalAlpha",k.opacity);p=P(b,l,d,!1);k.borders=p;F.test(b.nodeName)&&i.iframeDefault!==
"transparent"&&(m=i.iframeDefault==="default"?"#efefef":i.iframeDefault);x={left:o+p[3].width,top:w+p[0].width,width:x-(p[1].width+p[3].width),height:E-(p[0].width+p[2].width)};k.clip&&(x=q(x,k.clip));if(x.height>0&&x.width>0){e(l,x.left,x.top,x.width,x.height,m);var A=x,r=y(b,"backgroundImage"),n=y(b,"backgroundRepeat").split(",")[0],t,B,G;!/data:image\/.*;base64,/i.test(r)&&!/^(-webkit|-moz|linear-gradient|-o-)/.test(r)&&(r=r.split(",")[0]);if(typeof r!=="undefined"&&/^(1|none)$/.test(r)===!1)if(r=
j.Util.backgroundImage(r),m=g(r),E=j.Util.BackgroundPosition(b,A,m),m)switch(n){case "repeat-x":v(l,m,E,A.left,A.top,A.width,A.height);break;case "repeat-y":r=A.left;n=A.top;t=A.height;B=Math.min(m.width,A.width);E.top-=Math.ceil(E.top/m.height)*m.height;for(G=n+E.top;G<t+n;)A=Math.floor(G+m.height)>t+n?t+n-G:m.height,s(l,m,r+E.left,G,B,A,r,n),G=Math.floor(G+m.height);break;case "no-repeat":r=A.width-E.left;G=A.height-E.top;n=E.left;t=E.top;B=E.left+A.left;E=E.top+A.top;n<0?(n=Math.abs(n),B+=n,r=
Math.min(A.width,m.width-n)):(r=Math.min(r,m.width),n=0);t<0?(t=Math.abs(t),E+=t,G=Math.min(A.height,m.height-t)):(G=Math.min(G,m.height),t=0);G>0&&r>0&&(l.drawImage(m,n,t,r,G,B,E,r,G),I+=1);break;default:E.top-=Math.ceil(E.top/m.height)*m.height;for(r=A.top+E.top;r<A.height+A.top;)n=Math.min(m.height,A.height+A.top-r),n=Math.floor(r+m.height)>n+r?n+r-r:m.height,r<A.top?(t=A.top-r,r=A.top):t=0,v(l,m,E,A.left,r,A.width,n),t>0&&(E.top+=t),r=Math.floor(r+m.height)-t}else D("html2canvas: Error loading background:"+
r)}switch(b.nodeName){case "IMG":k=b.getAttribute("src");(H=g(k))?(k=a(b,"paddingLeft"),x=a(b,"paddingTop"),m=a(b,"paddingRight"),E=a(b,"paddingBottom"),l.drawImage(H,0,0,H.width,H.height,o+k+p[3].width,w+x+p[0].width,d.width-(p[1].width+p[3].width+k+m),d.height-(p[0].width+p[2].width+x+E)),I+=1):D("html2canvas: Error loading <img>:"+k);break;case "INPUT":/^(text|url|email|submit|button|reset)$/.test(b.type)&&b.value.length>0&&O(b,d,k);break;case "TEXTAREA":b.value.length>0&&O(b,d,k);break;case "SELECT":b.options.length>
0&&O(b,d,k);break;case "LI":d=x;o=y(b,"listStylePosition");p=y(b,"listStyleType");w=y(b,"fontWeight");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(p)){l=-1;k=1;x=b.parentNode.childNodes;if(b.parentNode){for(;x[++l]!==b;)x[l].nodeType===1&&k++;l=k}else l=-1;switch(p){case "decimal":H=l;break;case "decimal-leading-zero":H=l.toString().length===1?"0"+l.toString():l.toString();break;case "upper-roman":H=j.Generate.ListRoman(l);
break;case "lower-roman":H=j.Generate.ListRoman(l).toLowerCase();break;case "lower-alpha":H=j.Generate.ListAlpha(l).toLowerCase();break;case "upper-alpha":H=j.Generate.ListAlpha(l)}H+=". ";k=H;p=z.createElement("boundelement");p.style.display="inline";l=b.style.listStyleType;b.style.listStyleType="none";p.appendChild(z.createTextNode(k));b.insertBefore(p,b.firstChild);k=j.Util.Bounds(p);b.removeChild(p);b.style.listStyleType=l;switch(w){case 401:w="bold";break;case 400:w="normal"}Q.setVariable("fillStyle",
y(b,"color"));Q.setVariable("font",y(b,"fontVariant")+" "+w+" "+y(b,"fontStyle")+" "+y(b,"fontSize")+" "+y(b,"fontFamily"));if(o==="inside")Q.setVariable("textAlign","left"),d=d.left,o=k.bottom,w=Q,h(H).length>0&&(w.fillText(H,d,o),I+=1)}break;case "CANVAS":k=a(b,"paddingLeft"),x=a(b,"paddingTop"),m=a(b,"paddingRight"),E=a(b,"paddingBottom"),l.drawImage(b,0,0,b.width,b.height,o+k+p[3].width,w+x+p[0].width,d.width-(p[1].width+p[3].width+k+m),d.height-(p[0].width+p[2].width+x+E)),I+=1}return C.children[u-
1]}function t(a,b){if(y(a,"display")!=="none"&&y(a,"visibility")!=="hidden"&&!a.hasAttribute("data-html2canvas-ignore")&&(b=K(a,b)||b,Q=b.ctx,!F.test(a.nodeName))){var c=j.Util.Children(a),e,f,g;e=0;for(g=c.length;e<g;e+=1)f=c[e],f.nodeType===1?t(f,b):f.nodeType===3&&d(a,f,b)}}u.scroll(0,0);var w={rangeBounds:!1,svgRendering:i.svgRendering&&function(){var a=new Image,b=B.createElement("canvas"),c=b.getContext===n?!1:b.getContext("2d");if(c===!1)return!1;b.width=b.height=10;a.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'><foreignObject width='10' height='10'><div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>sup</div></foreignObject></svg>";
try{c.drawImage(a,0,0),b.toDataURL()}catch(d){return!1}D("html2canvas: Parse: SVG powered rendering available");return!0}()},o=i.elements===n?B.body:i.elements[0],I=0,x={},z=o.ownerDocument,F=RegExp("("+i.ignoreElements+")"),N=z.body,M,G,R,Q,L,c=c||{};if(z.createRange&&(M=z.createRange(),M.getBoundingClientRect)){G=z.createElement("boundtest");G.style.height="123px";G.style.display="block";N.appendChild(G);M.selectNode(G);M=M.getBoundingClientRect();M=M.height;if(M===123)w.rangeBounds=!0;N.removeChild(G)}var y=
j.Util.getCSS;R=K(o,null);w.svgRendering&&function(a){function b(a){var a=j.Util.Children(a),c=a.length,d,f,g,h,i;for(i=0;i<c;i+=1)if(h=a[i],h.nodeType===3)e+=h.nodeValue.replace(/\</g,"&lt;").replace(/\>/g,"&gt;");else if(h.nodeType===1&&!/^(script|meta|title)$/.test(h.nodeName.toLowerCase())){e+="<"+h.nodeName.toLowerCase();if(h.hasAttributes()){d=h.attributes;g=d.length;for(f=0;f<g;f+=1)e+=" "+d[f].name+'="'+d[f].value+'"'}e+=">";b(h);e+="</"+h.nodeName.toLowerCase()+">"}}var c=new Image,d=f(),
e="";b(a);c.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='"+d.width+"' height='"+d.height+"'>","<foreignObject width='"+d.width+"' height='"+d.height+"'>","<html xmlns='http://www.w3.org/1999/xhtml' style='margin:0;'>",e.replace(/\#/g,"%23"),"</html></foreignObject></svg>"].join("");c.onload=function(){R.svgRender=c}}(B.documentElement);G=0;o=o.children;for(M=o.length;G<M;G+=1)t(o[G],R);R.backgroundColor=y(B.documentElement,"backgroundColor");return R};j.Preload=
function(c){function i(){D("html2canvas: start: images: "+b.numLoaded+" / "+b.numTotal+" (failed: "+b.numFailed+")");!b.firstRun&&b.numLoaded>=b.numTotal&&(D("Finished loading images: # "+b.numTotal+" (failed: "+b.numFailed+")"),typeof c.complete==="function"&&c.complete(b))}function f(a,d,f){var g,h=c.proxy,j;v.href=a;a=v.href;g="html2canvas_"+q++;f.callbackname=g;h+=h.indexOf("?")>-1?"&":"?";h+="url="+encodeURIComponent(a)+"&callback="+g;j=P.createElement("script");u[g]=function(a){a.substring(0,
6)==="error:"?(f.succeeded=!1,b.numLoaded++,b.numFailed++,i()):(e(d,f),d.src=a);u[g]=n;try{delete u[g]}catch(c){}j.parentNode.removeChild(j);j=null;delete f.script;delete f.callbackname};j.setAttribute("type","text/javascript");j.setAttribute("src",h);f.script=j;u.document.body.appendChild(j)}function a(c){var e=j.Util.Children(c),f,g,h=!1;try{var q=e.length;for(f=0;f<q;f+=1)a(e[f])}catch(s){}try{h=c.nodeType}catch(t){h=!1,D("html2canvas: failed to access some element's nodeType - Exception: "+t.message)}if(h===
1||h===n){try{g=j.Util.getCSS(c,"backgroundImage")}catch(v){D("html2canvas: failed to get background-image - Exception: "+v.message)}g&&g!=="1"&&g!=="none"&&(/^(-webkit|-o|-moz|-ms|linear)-/.test(g)?(c=j.Generate.Gradient(g,j.Util.Bounds(c)),c!==n&&(b[g]={img:c,succeeded:!0},b.numTotal++,b.numLoaded++,i())):(g=j.Util.backgroundImage(g.match(/data:image\/.*;base64,/i)?g:g.split(",")[0]),d.loadImage(g)))}}function e(a,d){a.onload=function(){d.timer!==n&&u.clearTimeout(d.timer);b.numLoaded++;d.succeeded=
!0;a.onerror=a.onload=null;i()};a.onerror=function(){if(a.crossOrigin==="anonymous"&&(u.clearTimeout(d.timer),c.proxy)){var e=a.src;a=new Image;d.img=a;a.src=e;f(a.src,a,d);return}b.numLoaded++;b.numFailed++;d.succeeded=!1;a.onerror=a.onload=null;i()}}var b={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},h,d,g,q=0;g=c.elements[0]||B.body;var P=g.ownerDocument,O=P.images,s=O.length,v=P.createElement("a"),K=function(a){return a.crossOrigin!==n}(new Image),t;v.href=u.location.href;h=v.protocol+v.host;
d={loadImage:function(a){var d,g;if(a&&b[a]===n)d=new Image,a.match(/data:image\/.*;base64,/i)?(d.src=a.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,""),g=b[a]={img:d},b.numTotal++,e(d,g)):(v.href=a,v.href=v.href,v.protocol+v.host===h||c.allowTaint===!0?(g=b[a]={img:d},b.numTotal++,e(d,g),d.src=a):K&&!c.allowTaint&&c.useCORS?(d.crossOrigin="anonymous",g=b[a]={img:d},b.numTotal++,e(d,g),d.src=a,d.customComplete=function(){if(this.img.complete)this.img.onerror();else this.timer=u.setTimeout(this.img.customComplete,
100)}.bind(g),d.customComplete()):c.proxy&&(g=b[a]={img:d},b.numTotal++,f(a,d,g)))},cleanupDOM:function(a){var d,e;if(!b.cleanupDone){a&&typeof a==="string"?D("html2canvas: Cleanup because: "+a):D("html2canvas: Cleanup after timeout: "+c.timeout+" ms.");for(e in b)if(b.hasOwnProperty(e)&&(d=b[e],typeof d==="object"&&d.callbackname&&d.succeeded===n)){u[d.callbackname]=n;try{delete u[d.callbackname]}catch(g){}d.script&&d.script.parentNode&&(d.script.setAttribute("src","about:blank"),d.script.parentNode.removeChild(d.script));
b.numLoaded++;b.numFailed++;D("html2canvas: Cleaned up failed img: '"+e+"' Steps: "+b.numLoaded+" / "+b.numTotal)}u.stop!==n?u.stop():B.execCommand!==n&&B.execCommand("Stop",!1);B.close!==n&&B.close();b.cleanupDone=!0;a&&typeof a==="string"||i()}},renderingDone:function(){t&&u.clearTimeout(t)}};c.timeout>0&&(t=u.setTimeout(d.cleanupDOM,c.timeout));D("html2canvas: Preload starts: finding background-images");b.firstRun=!0;a(g);D("html2canvas: Preload: Finding images");for(g=0;g<s;g+=1)d.loadImage(O[g].getAttribute("src"));
b.firstRun=!1;D("html2canvas: Preload: Done.");b.numTotal===b.numLoaded&&i();return d};j.Renderer=function(c,i){function f(c){var b=[],h=[],c=c.children,d,g,i,j;d=0;for(i=c.length;d<i;d+=1)g=c[d],g.children&&g.children.length>0?(b.push(g),h.push(g.zindex)):a.push(g);h.sort(function(a,b){return a-b});c=0;for(d=h.length;c<d;c+=1){g=h[c];i=0;for(j=b.length;i<=j;i+=1)if(b[i].zindex===g){g=b.splice(i,1);f(g[0]);break}}}var a=[];f(c.zIndex);if(typeof i._renderer._create!=="function")throw Error("Invalid renderer defined");
return i._renderer._create(c,i,B,a,j)};L=function(c,i){var f,a,e={logging:!1,elements:c,proxy:"http://html2canvas.appspot.com/",timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,iframeDefault:"default",ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,flashcanvas:n,width:null,height:null,taintTest:!0,renderer:"Canvas"},e=j.Util.Extend(i,e);if(typeof e.renderer==="string"&&j.Renderer[e.renderer]!==n)e._renderer=j.Renderer[e.renderer](e);else if(typeof e.renderer==="function")e._renderer=
e.renderer(e);else throw"Unknown renderer";j.logging=e.logging;e.complete=function(b){if(!(typeof e.onpreloaded==="function"&&e.onpreloaded(b)===!1)&&(f=j.Parse(b,e),!(typeof e.onparsed==="function"&&e.onparsed(f)===!1)&&(a=j.Renderer(f,e),typeof e.onrendered==="function")))e.onrendered(a)};u.setTimeout(function(){j.Preload(e)},0);return{render:function(a,c){return j.Renderer(a,j.Util.Extend(c,e))},parse:function(a,c){return j.Parse(a,j.Util.Extend(c,e))},preload:function(a){return j.Preload(j.Util.Extend(a,
e))},log:D}};L.log=D;L.Renderer={Canvas:n};j.Renderer.Canvas=function(c){var c=c||{},i=c.canvas||B.createElement("canvas"),f=!1,a=!1,e=!1,b;if(i.getContext)D("html2canvas: Renderer: using canvas renderer"),e=!0;else if(c.flashcanvas!==n){f=!0;D("html2canvas: Renderer: canvas not available, using flashcanvas");var h=B.createElement("script");h.src=c.flashcanvas;h.onload=function(a,b){var c;if(a.onload===n)a.onreadystatechange!==n?(c=function(){a.readyState!=="loaded"&&a.readyState!=="complete"?u.setTimeout(c,
250):b()},u.setTimeout(c,250)):D("html2canvas: Renderer: Can't track when flashcanvas is loaded");else return b}(h,function(){typeof u.FlashCanvas!=="undefined"&&(D("html2canvas: Renderer: Flashcanvas initialized"),u.FlashCanvas.initElement(i),e=!0,a!==!1&&b._create.apply(null,a))});B.body.appendChild(h)}return b={_create:function(b,c,h,j,u){if(!e)return a=arguments,i;var s=i.getContext("2d"),v,K,t,w,o,I,x=B.createElement("canvas");o=x.getContext!==n;var z,F,x=o?x.getContext("2d"):{};I=[];i.width=
i.style.width=!f?c.width||b.ctx.width:Math.min(2880,c.width||b.ctx.width);i.height=i.style.height=!f?c.height||b.ctx.height:Math.min(2880,c.height||b.ctx.height);v=s.fillStyle;s.fillStyle=b.backgroundColor;s.fillRect(0,0,i.width,i.height);s.fillStyle=v;if(c.svgRendering&&b.svgRender!==n)s.drawImage(b.svgRender,0,0);else{K=0;for(t=j.length;K<t;K+=1){v=j.splice(0,1)[0];v.canvasPosition=v.canvasPosition||{};s.textBaseline="bottom";v.clip&&(s.save(),s.beginPath(),s.rect(v.clip.left,v.clip.top,v.clip.width,
v.clip.height),s.clip());if(v.ctx.storage){w=0;for(z=v.ctx.storage.length;w<z;w+=1)switch(F=v.ctx.storage[w],F.type){case "variable":s[F.name]=F.arguments;break;case "function":if(F.name==="fillRect")(!f||F.arguments[0]+F.arguments[2]<2880&&F.arguments[1]+F.arguments[3]<2880)&&s.fillRect.apply(s,F.arguments);else if(F.name==="drawShape")(function(a){var b,c=a.length;s.beginPath();for(b=0;b<c;b++)s[a[b].name].apply(s,a[b].arguments);s.closePath();s.fill()})(F.arguments);else if(F.name==="fillText")(!f||
F.arguments[1]<2880&&F.arguments[2]<2880)&&s.fillText.apply(s,F.arguments);else if(F.name==="drawImage"&&F.arguments[8]>0&&F.arguments[7]){if(o&&c.taintTest&&I.indexOf(F.arguments[0].src)===-1){x.drawImage(F.arguments[0],0,0);try{x.getImageData(0,0,1,1)}catch(L){x=h.createElement("canvas");x=x.getContext("2d");continue}I.push(F.arguments[0].src)}s.drawImage.apply(s,F.arguments)}}}v.clip&&s.restore()}}D("html2canvas: Renderer: Canvas renderer done - returning canvas obj");t=c.elements.length;return t===
1&&typeof c.elements[0]==="object"&&c.elements[0].nodeName!=="BODY"&&f===!1?(I=u.Util.Bounds(c.elements[0]),o=h.createElement("canvas"),o.width=I.width,o.height=I.height,s=o.getContext("2d"),s.drawImage(i,I.left,I.top,I.width,I.height,0,0,I.width,I.height),i=null,o):i}}};j.Renderer.SVG=function(){var c=B.createElementNS("http://www.w3.org/2000/svg","svg"),i=B.createElementNS("http://www.w3.org/2000/svg","defs"),f,a,e,b,h,d,g,j={},n,u,s=0;return{_create:function(v,B,t,w){c.setAttribute("version","1.1");
c.setAttribute("baseProfile","full");c.setAttribute("viewBox","0 0 "+Math.max(v.ctx.width,B.width)+" "+Math.max(v.ctx.height,B.height));c.setAttribute("width",Math.max(v.ctx.width,B.width)+"px");c.setAttribute("height",Math.max(v.ctx.height,B.height)+"px");c.setAttribute("preserveAspectRatio","none");c.appendChild(i);f=0;for(e=w.length;f<e;f+=1)if(h=w.splice(0,1)[0],h.canvasPosition=h.canvasPosition||{},h.ctx.storage){a=0;for(b=h.ctx.storage.length;a<b;a+=1)switch(d=h.ctx.storage[a],d.type){case "variable":j[d.name]=
d.arguments;break;case "function":d.name==="fillRect"?(g=t.createElementNS("http://www.w3.org/2000/svg","rect"),g.setAttribute("x",d.arguments[0]),g.setAttribute("y",d.arguments[1]),g.setAttribute("width",d.arguments[2]),g.setAttribute("height",d.arguments[3]),g.setAttribute("fill",j.fillStyle),c.appendChild(g)):d.name==="fillText"?(g=t.createElementNS("http://www.w3.org/2000/svg","text"),u=j.font.split(" "),g.style.fontVariant=u.splice(0,1)[0],g.style.fontWeight=u.splice(0,1)[0],g.style.fontStyle=
u.splice(0,1)[0],g.style.fontSize=u.splice(0,1)[0],g.setAttribute("x",d.arguments[1]),g.setAttribute("y",d.arguments[2]-(parseInt(g.style.fontSize,10)+3)),g.setAttribute("fill",j.fillStyle),g.style.dominantBaseline="text-before-edge",g.style.fontFamily=u.join(" "),n=t.createTextNode(d.arguments[0]),g.appendChild(n),c.appendChild(g)):d.name==="drawImage"&&d.arguments[8]>0&&d.arguments[7]&&(g=t.createElementNS("http://www.w3.org/2000/svg","clipPath"),g.setAttribute("id","clipId"+s),n=t.createElementNS("http://www.w3.org/2000/svg",
"rect"),n.setAttribute("x",d.arguments[5]),n.setAttribute("y",d.arguments[6]),n.setAttribute("width",d.arguments[3]),n.setAttribute("height",d.arguments[4]),g.appendChild(n),i.appendChild(g),g=t.createElementNS("http://www.w3.org/2000/svg","image"),g.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.arguments[0].src),g.setAttribute("width",d.arguments[7]),g.setAttribute("height",d.arguments[8]),g.setAttribute("x",d.arguments[5]),g.setAttribute("y",d.arguments[6]),g.setAttribute("clip-path",
"url(#clipId"+s+")"),g.setAttribute("preserveAspectRatio","none"),c.appendChild(g),s+=1)}}D("html2canvas: Renderer: SVG Renderer done - returning SVG DOM obj");return c}}};u.html2canvas=L})(window,document);