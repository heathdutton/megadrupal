<?php

/**
 * @file
 * Acquia Cloud API module provides an interfact to manage your Acquia Hosting
 * from your Drupal Site.
 */

/**
 * Implements hook_menu().
 */
function acquia_cloud_dashboard_menu() {
  $items['admin/config/cloud-api'] = array(
    'title' => 'Acquia Cloud Dashboard',
    'description' => 'Control Acquia Cloud Hosting right from Drupal Site',
    'position' => 'left',
    'access arguments' => array('access cloud api report'),
  );
  $items['admin/config/cloud-api/view'] = array(
    'title' => 'Acquia Cloud API Report',
    'description' => 'Report of your Acquia Cloud',
    'page callback' => 'acquia_cloud_dashboard_report',
    'access arguments' => array('access cloud api report'),
    'file' => 'acquia_cloud_dashboard.pages.inc',
    'type' => MENU_NORMAL_ITEM,
  );
  $items['admin/config/cloud-api/refresh'] = array(
    'title' => 'Refresh Acquia Cloud API Report',
    'description' => 'Refreshes your Acquia Cloud',
    'page callback' => 'acquia_cloud_dashboard_report_refresh',
    'access arguments' => array('refresh cloud api report'),
    'file' => 'acquia_cloud_dashboard.pages.inc',
  );
  $items['admin/config/cloud-api/configure'] = array(
    'title' => 'Acquia Cloud API Configuration',
    'description' => 'Configuring of your Acquia Cloud',
    'page callback' => 'drupal_get_form',
    'page arguments' => array('acquia_cloud_dashboard_configure_form'),
    'access arguments' => array('configure cloud api'),
    'file' => 'acquia_cloud_dashboard.pages.inc',
  );
  $items['admin/config/cloud-api/add/domain/%/%'] = array(
    'title' => 'Acquia Cloud API Add Domains',
    'description' => 'Add Domains on Acquia Cloud',
    'page callback' => 'drupal_get_form',
    'page arguments' => array(
      'acquia_cloud_dashboard_configure_add_domain_form',
      5,
      6,
    ),
    'access arguments' => array('add domains cloud api'),
    'file' => 'acquia_cloud_dashboard.pages.inc',
    'type' => MENU_CALLBACK,
  );
  $items['admin/config/cloud-api/delete/domain/%/%/%'] = array(
    'title' => 'Acquia Cloud API Delete Domains',
    'description' => 'Delete Domains on Acquia Cloud',
    'page callback' => 'drupal_get_form',
    'page arguments' => array(
      'acquia_cloud_dashboard_configure_delete_domain_form',
      5,
      6,
      7,
    ),
    'access arguments' => array('delete domains cloud api'),
    'file' => 'acquia_cloud_dashboard.pages.inc',
    'type' => MENU_CALLBACK,
  );
  $items['admin/config/cloud-api/purge/domain/%/%/%'] = array(
    'title' => 'Acquia Cloud API Purge Domain Varnish Cache',
    'description' => 'Purge Domain Cache on Acquia Cloud',
    'page callback' => 'drupal_get_form',
    'page arguments' => array(
      'acquia_cloud_dashboard_configure_purge_varnish_form',
      5,
      6,
      7,
    ),
    'access arguments' => array('purge domain cache cloud api'),
    'file' => 'acquia_cloud_dashboard.pages.inc',
    'type' => MENU_CALLBACK,
  );
  $items['admin/config/cloud-api/add/key/%'] = array(
    'title' => 'Acquia Cloud API Add SSH Key',
    'description' => 'Add SSH Key on Acquia Cloud',
    'page callback' => 'drupal_get_form',
    'page arguments' => array('acquia_cloud_dashboard_configure_add_key_form', 5),
    'access arguments' => array('add key cloud api'),
    'file' => 'acquia_cloud_dashboard.pages.inc',
    'type' => MENU_CALLBACK,
  );
  $items['admin/config/cloud-api/delete/key/%/%/%'] = array(
    'title' => 'Acquia Cloud API Delete Domains',
    'description' => 'Delete SSH Key on Acquia Cloud',
    'page callback' => 'drupal_get_form',
    'page arguments' => array(
      'acquia_cloud_dashboard_configure_delete_key_form',
      5,
      6,
      7,
    ),
    'access arguments' => array('delete key cloud api'),
    'file' => 'acquia_cloud_dashboard.pages.inc',
    'type' => MENU_CALLBACK,
  );
  return $items;
}

/**
 * Implements hook_permission().
 */
function acquia_cloud_dashboard_permission() {
  return array(
    'access cloud api report' => array(
      'title' => t('Access Cloud API Report'),
      'description' => t('Allows user to access report generated by Cloud API module for the subscription'),
    ),
    'refresh cloud api report' => array(
      'title' => t('Manually Refresh Cloud API Report'),
      'description' => t('Allows user to manually refresh report generated by Cloud API'),
    ),
    'configure cloud api' => array(
      'title' => t('Configure Cloud API'),
      'description' => t('Allows user to configure Acquia Cloud API connectivity'),
    ),
    'add domains cloud api' => array(
      'title' => t('Add Domains on Cloud API'),
      'description' => t('Allows user to add domains on to Acquia Cloud'),
    ),
    'delete domains cloud api' => array(
      'title' => t('Delete Domains on Cloud API'),
      'description' => t('Allows user to delete domains on to Acquia Cloud'),
    ),
    'purge domain cache cloud api' => array(
      'title' => t('Purge Domains Varnish cache on Cloud API'),
      'description' => t('Allows user to purge domains Varnish Cache on to Acquia Cloud'),
    ),
    'add key cloud api' => array(
      'title' => t('Add SSH Keys on Cloud API'),
      'description' => t('Allows user to add SSH Keys on to Acquia Cloud'),
    ),
    'delete key cloud api' => array(
      'title' => t('Delete SSH Keys on Cloud API'),
      'description' => t('Allows user to delete SSH Keys on to Acquia Cloud'),
    ),
  );
}
