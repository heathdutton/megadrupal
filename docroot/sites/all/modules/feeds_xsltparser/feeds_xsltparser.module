<?php
/**
 * @file:   feeds_xsltparser.module: This module implements a simple XSLT
 *          pipeline for feeds.
 *
 * Written by Sebastian Leu, MD-Systems 2011
 */


/**
 * Implements hook_feeds_plugins().
 */
function feeds_xsltparser_feeds_plugins() {
  $info = array();

  $info['FeedsXSLTPipelineParser'] = array(
    'name' => 'XSLT Pipeline Parser',
    'description' => 'This module implements a simple XSLT pipeline for feeds.',
    'handler' => array(
      'parent' => 'FeedsParser',
      'class' => 'FeedsXSLTPipelineParser',
      'file' => 'FeedsXSLTPipelineParser.inc',
      'path' => drupal_get_path('module', 'feeds_xsltparser'),
    ),
  );

  return $info;
}


/**
 * Implements hook_enable().
 *
 * This function ensures that the FeedsXSLTPipelineParser plugin will
 * be visible in feeds UI right after this module gets enabled.
 */
function feeds_xsltparser_enable() {
  //clear the cache to display in Feeds as available plugin.
  cache_clear_all('plugins:feeds:plugins', 'cache');
}


/**
 * Implements hook_theme().
 */
function feeds_xsltparser_theme() {
  $theme['feeds_xsltparser_pipelist'] = array(
    'variables' => array('pipes' => NULL),
    'template' => 'feeds-xsltparser-pipelist',
  );

  return $theme;
}
