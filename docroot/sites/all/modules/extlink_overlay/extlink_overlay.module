<?php

/**
 * @file
 * Provides a admin page to manage overlay behavior and add js and css
 * files on drupal bootstrap.
 */


/**
 * Implements hook_page_build().
 */
function extlink_overlay_page_build(&$page) {
  drupal_add_js(array(
    'extlink_overlay' => array(
      'extOverlayPopUp' => variable_get('extlink_overlay_popup', 0),)), 'setting'
  );
}


/**
 * Implements hook_form_FORM_ID_alter().
 *
 * Add option to turn on extlink overlay in extlink settings page.
 */
function extlink_overlay_form_extlink_admin_settings_alter(&$form, &$form_state, $form_id) {
  $form['extlink_overlay_popup'] = array(
    '#type' => 'checkbox',
    '#title' => t('Open external links in a pop-up'),
    '#return_value' => '_blank',
    '#default_value' => variable_get('extlink_overlay_popup', 0),
    '#description' => t('Should all external links be opened in a pop-up?'),
  );
}
