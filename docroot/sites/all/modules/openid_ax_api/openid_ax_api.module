<?php

/**
 * @file
 * Module providing openid attribute exchange API
 */


/**
 * Creates attribute name from URL
 *
 * @param string $url
 *   Uri of the attribute
 * @return string
 *   Short name of the attribute
 */
function openid_ax_api_attribute_name($uri) {
  $form = array();
  $parts = array_filter(explode('/', str_replace('http://', '', $uri)), 'strlen');
  array_shift($parts);
  return implode('_', $parts);
}


/**
 * Includes a file that provides an array containing the identifiers as listed in
 * http://www.axschema.org/types/
 */
function openid_ax_api_schema_definitions() {
  // Only load schema file when necessary
  module_load_include('inc', 'openid_ax_api', 'openid_ax_api.schema');
  return _openid_ax_api_schema_definitions();
}
