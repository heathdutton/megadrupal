{"version":3,"sources":["oa_basetheme.script.js"],"names":[],"mappings":";;AAAA,CAAC,UAAU,CAAC,EAAE;AACZ,GAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,YAAW;;AAE3B,KAAC,CAAC,iCAAiC,CAAC,CAAC,KAAK,CAAC,UAAS,CAAC,EAAE;AACrD,OAAC,CAAC,cAAc,EAAE,CAAC;AACnB,UAAI,eAAe,GAAG,CAAC,CAAC,mCAAmC,CAAC,CAAC;AAC7D,UAAI,MAAM,GAAG,AAAC,eAAe,CAAC,MAAM,EAAE,IAAI,CAAC,GAAI,MAAM,GAAG,CAAC,CAAC;AAC1D,qBAAe,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;KAChC,CAAC;;;AAAC,AAGH,QAAI,IAAI,GAAG,CAAC,CAAC,+BAA+B,CAAC,CAAC;AAC9C,QAAI,IAAI,CAAC,MAAM,EAAE;AACf,UAAI,KAAK,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC;AACvB,UAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;AAC7B,WAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;KACzB;GACF,CAAC,CAAC;;AAEH,QAAM,CAAC,SAAS,CAAC,UAAU,GAAG;AAC5B,UAAM,EAAE,gBAAS,OAAO,EAAE,QAAQ,EAAE;;AAElC,OAAC,CAAC,qBAAqB,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,YAAY;AACjD,YAAI,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC;AACrD,YAAI,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,mCAAmC,CAAC,CAAC;AAChE,YAAI,OAAO,GAAG,QAAQ,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC;AACjF,YAAI,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AACjD,YAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;AAC7B,wBAAc,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;SACtC;AACD,YAAI,OAAO,EAAE;AACX,cAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;AAC7B,aAAC,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;AACpC,aAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC;AACpC,0BAAc,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;AACvC,aAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,EAAE,AAAC,cAAc,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,GAAI,IAAI,CAAC,CAAC;WAC9E;SACF;OACF,CAAC,CAAC;KACJ;GACF,CAAC;;AAEF,QAAM,CAAC,SAAS,CAAC,iBAAiB,GAAG;AACnC,UAAM,EAAE,gBAAS,OAAO,EAAE,QAAQ,EAAE;;AAElC,UAAI,QAAQ,IAAI,QAAQ,EAAE;AACxB,YAAI,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC;AACxC,SAAC,CAAC,QAAQ,EAAE,OAAO,CAAC,CACjB,GAAG,CAAC,oKAAoK;AAAC,SACzK,IAAI,CAAC,YAAY;AAChB,WAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,2DAA2D,CAAC,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,yBAAyB,CAAC,CAAC;SAC5H,CAAC,CAAC;OACJ;KACF;GACF,CAAC;;AAEF,MAAI,MAAM,CAAC,MAAM,IAAI,OAAO,MAAM,CAAC,MAAM,CAAC,+BAA+B,IAAI,WAAW,EAAE;AACxF,UAAM,CAAC,MAAM,CAAC,+BAA+B,CAAC,MAAM,CAAC,MAAM,CAAC,+BAA+B,CAAC,MAAM,CAAC,GAAG,UAAS,UAAU,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE;;;AAGlJ,UAAI,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,QAAQ,EAAE;AACvC,eAAO,CAAC,GAAG,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;OAC7B;KACF,CAAA;GACF;;AAED,QAAM,CAAC,SAAS,CAAC,mBAAmB,GAAG;AACrC,UAAM,EAAE,gBAAS,OAAO,EAAE;AACxB,UAAI,QAAQ,GAAG,CAAC,CAAC,sBAAsB,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;;AAExD,UAAI,WAAW,GAAG,CAAC,MAAM,EAAC,QAAQ,EAAC,QAAQ,CAAC,CAAC;AAC7C,UAAI,OAAO,GAAG,CAAC,CAAC;;AAEhB,UAAI,OAAO,GAAG,CAAC,CAAC,mCAAmC,CAAC,CAAC;AACrD,UAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;AACtB,YAAI,cAAc,GAAG,CAAC,CAAC,yBAAyB,CAAC;;;AAAC,AAGlD,YAAI,cAAc,CAAC,MAAM,IAAI,CAAC,EAAE;AAC9B,iBAAO,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,qBAAqB,CAAC,CAAC;SACjD;OACF,MACI;;AAEH,YAAI,WAAW,GAAG,CAAC,CAAC,iCAAiC,CAAC,CAAC;AACvD,YAAI,WAAW,CAAC,MAAM,IAAI,CAAC,EAAE;AAC3B,WAAC,CAAC,+BAA+B,CAAC,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,qBAAqB,CAAC,CAAC;SAC5E;OACF;AACD,OAAC,CAAC,IAAI,CAAC,WAAW,EAAE,UAAS,CAAC,EAAE,GAAG,EAAE;AACnC,SAAC,CAAC,GAAG,GAAC,GAAG,GAAC,cAAc,CAAC,CAAC,IAAI,CAAC,uCAAuC,CAAC,CAAC,IAAI,CAAE,YAAW;AACvF,WAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC;AAC1E,iBAAO,EAAE,CAAC;SACX,CAAC,CAAC;OACJ,CAAC,CAAC;;AAEH,aAAO,EAAE,CAAC;;AAEV,eAAS,OAAO,GAAG;AACjB,YAAI,QAAQ,EAAE;;AAEZ,cAAG,CAAC,CAAC,sBAAsB,CAAC,CAAC,IAAI,EAAE,EAAE;AACnC,aAAC,CAAC,0CAA0C,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE,OAAO,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;AACnJ,mBAAO,EAAE,CAAC;WACX,MACI;AACH,aAAC,CAAC,uCAAuC,CAAC,CAAC,IAAI,EAAE,CAAC;WACnD;;;AAAA,AAGD,WAAC,CAAC,IAAI,CAAC,WAAW,EAAE,UAAS,CAAC,EAAE,GAAG,EAAC;AAClC,aAAC,CAAC,GAAG,GAAC,GAAG,GAAC,cAAc,CAAC,CAAC,IAAI,CAAC,uCAAuC,CAAC,CAAC,QAAQ,CAAC,aAAa,GAAC,GAAG,CAAC,CAAC;WACrG,CAAC,CAAC;SACJ;OACF;;AAED,OAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,YAAW;AAC1B,YAAI,CAAC,CAAC,sBAAsB,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,QAAQ,EAAE;AACxD,cAAI,QAAQ,IAAI,IAAI,EAAE;;;AAGpB,iBAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,OAAO,EAAE,CAAC,EAAE,EAAE;AACjC,eAAC,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAC,cAAc,GAAG,CAAC,GAAE,IAAI,CAAC,CAAC,QAAQ,CAAC,iBAAiB,GAAG,CAAC,GAAE,IAAI,CAAC,CAAC;aAC3F;WACF;AACD,kBAAQ,GAAG,CAAC,CAAC,sBAAsB,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;AACpD,iBAAO,EAAE,CAAC;SACX;OACF,CAAC,CAAC;KACJ;GACF,CAAC;CAEH,CAAA,CAAE,MAAM,CAAC,CAAC","file":"oa_basetheme.script.min.js","sourcesContent":["(function ($) {\n  $(document).ready(function() {\n    // Handle toolbar collapse.\n    $('.oa-navigation .btn-navbar-menu').click(function(e) {\n      e.preventDefault();\n      var navMenuCollapse = $('.oa-navigation .nav-menu-collapse');\n      var height = (navMenuCollapse.height() == 0) ? 'auto' : 0;\n      navMenuCollapse.height(height);\n    });\n\n    // adjust the position of the IPE buttons\n    var $ipe = $('#panels-ipe-control-container');\n    if ($ipe.length) {\n      var $main = $('#main');\n      var $element = $ipe.detach();\n      $main.prepend($element);\n    }\n  });\n\n  Drupal.behaviors.oa_wysiwyg = {\n    attach: function(context, settings) {\n      // Tweak the WYSIWYG selector on text fields\n      $('form .format-toggle', context).each(function () {\n        var parent = $(this).parents('.text-format-wrapper');\n        var hasLabel = parent.find('.form-type-textarea:visible label');\n        var visible = hasLabel.is(':visible') && !hasLabel.hasClass('element-invisible');\n        var hasDescription = parent.find('.description');\n        if (hasDescription.length > 0) {\n          hasDescription.insertAfter(hasLabel);\n        }\n        if (visible) {\n          if (hasDescription.length > 0) {\n            $(this).insertAfter(hasDescription);\n            $(this).addClass('has-description');\n            hasDescription.addClass('has-wysiwyg');\n            $(this).css('top', (hasDescription.height() - $(this).height() + 20) + 'px');\n          }\n        }\n      });\n    }\n  };\n\n  Drupal.behaviors.fieldset_collapse = {\n    attach: function(context, settings) {\n      // allow chosen dropdowns within fieldsets to be visible\n      if ('chosen' in settings) {\n        var selector = settings.chosen.selector;\n        $(selector, context)\n          .not('#field-ui-field-overview-form select, #field-ui-display-overview-form select, .wysiwyg, .draggable select[name$=\"[weight]\"], .draggable select[name$=\"[position]\"]') //disable chosen on field ui\n          .each(function () {\n            $(this).parents('.panel-body.fieldset-wrapper, .form-item.form-type-select').first().addClass('chosen-fieldset-wrapper');\n        });\n      }\n    }\n  };\n\n  if (Drupal.CTools && typeof Drupal.CTools.CollapsibleCallbacksAfterToggle != 'undefined') {\n    Drupal.CTools.CollapsibleCallbacksAfterToggle[Drupal.CTools.CollapsibleCallbacksAfterToggle.length] = function($container, handle, content, toggle) {\n      // Older versions of jquery leave behind a overflow:hidden;\n      // @see https://www.drupal.org/node/2408807\n      if (content.css(\"overflow\") == \"hidden\") {\n        content.css(\"overflow\", \"\");\n      }\n    }\n  }\n\n  Drupal.behaviors.mobile_nav_behavior = {\n    attach: function(context) {\n      var isMobile = $('button.navbar-toggle').is(':visible');\n\n      var mobileMenus = ['user','spaces','search'];\n      var tracker = 1;\n\n      var userImg = $('.user-mobile-menu .user-badge img');\n      if (userImg.length > 0) {\n        var currentUserImg = $('.navbar-toggle.user img');\n        // if there is a user image (logged in), then put it into the mobile button\n        // but only once.\n        if (currentUserImg.length == 0) {\n          userImg.clone().appendTo('.navbar-toggle.user');\n        }\n      }\n      else {\n        // if no image, then move the Login link\n        var currentLink = $('.navbar-toggle.user .user-badge');\n        if (currentLink.length == 0) {\n          $('.user-mobile-menu .user-badge').clone().appendTo('.navbar-toggle.user');\n        }\n      }\n      $.each(mobileMenus, function(i, val) {\n        $(\".\"+val+\"-mobile-menu\").find('>ul, form, >div>ul, .dropdown-menu>ul').each( function() {\n          $(this).attr('menu-item', tracker).parent().attr('menu-desktop', tracker);\n          tracker++;\n        });\n      });\n\n      setMenu();\n\n      function setMenu() {\n        if (isMobile) {\n          // wire the mobile admin\n          if($('#toolbar-menu-button').html()) {\n            $('#navbar-tray .navbar-menu-administration').attr('menu-desktop', tracker).children('ul').attr('menu-item', tracker).appendTo(\"#oa-navbar-admin\");\n            tracker++;\n          }\n          else {\n            $('#oa-navbar button.navbar-toggle.admin').hide();\n          }\n\n          // move each menu, Bootstrap handles the menu toggle\n          $.each(mobileMenus, function(i, val){\n            $(\".\"+val+\"-mobile-menu\").find('>ul, form, >div>ul, .dropdown-menu>ul').appendTo(\"#oa-navbar-\"+val);\n          });\n        }\n      }\n\n      $(window).resize(function() {\n        if ($('button.navbar-toggle').is(':visible') != isMobile) {\n          if (isMobile == true) {\n            //there was a change, if isMobile was true the change is to false and is now desktop\n            //here we want to move the menu items back\n            for (var i = 1; i <= tracker; i++) {\n              $('.pane-oa-mobile').find(\"[menu-item='\" + i +\"']\").appendTo(\"[menu-desktop='\" + i +\"']\");\n            }\n          }\n          isMobile = $('button.navbar-toggle').is(':visible');\n          setMenu();\n        }\n      });\n    }\n  };\n\n})(jQuery);\n"],"sourceRoot":"/source/"}