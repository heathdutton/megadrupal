@import "system.forms";

@mixin typography-forms {
  @include form-default-layout;
  @include form-default-styling;

  @include typography-forms-elements;
  @include typography-forms-date;
  @include typography-forms-autocomplete;
  @include typography-forms-term-reference;
  @include typography-forms-attachment;
  @include typography-forms-fieldset;

  @include button-selectors {
    @include cloudy-button;
    margin-right: 1em;
  }
}

@mixin typography-forms-elements {
  @include input-selectors {
    -webkit-appearance: none;
  }

  select:not([multiple]) {
    padding: .45em;
    padding-right: 5px;
    background-image: url($image-icon-select);
    background-position: right center;
    background-repeat: no-repeat;
  }

  select:not([multiple]) {
    padding-right: 20px;
    -moz-padding-end: 5px;
    -ms-background-position-x: 200%;
  }

  html.ie select {
    background-image: none;
    padding-right: 5px;
  }
}

@mixin typography-forms-date {
  form .container-inline-date {
    @include clearfix;
    margin: 0.5em 0;
    padding: 0.25em 0;

    .form-item {
      margin: 0 .5em 0 0;
      float: left;
    }
  }
}

@mixin typography-forms-autocomplete {
  html.js input.form-autocomplete {
    background-image: url($image-mega-master-throbber);
    background-position: 100% 10px;
    padding-right: 18px !important;
  }

  html.js input.throbbing {
    background-position: 100% -120px;
  }

  .form-type-textfield #autocomplete ul {
    list-style: none outside none;
  }
  .form-type-textfield #autocomplete ul li {
      margin: 0;
      padding: 3px 0 3px 8px;
  }
  .form-type-textfield #autocomplete ul li span.autocomplete-user-input {
      font-family: $font-family-bold;
  }
}

@mixin typography-forms-term-reference {
  form .field--type-term-level table {
    thead th {
      border: none;
    }

    tbody {
      border-bottom-width: 3px;
      border-top-width: 3px;
    }
  }
}

@mixin typography-forms-attachment {
  form .field--type-file .file-widget .form-text {
    max-width: 345px;
  }

  @include at-media-query($media-narrow-up) {
    form .field--type-file .file-widget .form-text {
      max-width: 100%;
    }
  }
}

@mixin typography-forms-fieldset {
  fieldset {
    margin-bottom: 1.5em;
  }
}
